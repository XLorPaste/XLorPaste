import{o as p,c as _,a as n,d as h,t as w,b as $,r as v,n as F,u as i,e as O,g as P,f as k,h as u,w as m,i as y,j as g,k as b,l as V,v as B,m as x,p as C,s as K,q as U,x as W,y as z,z as J,A,B as j,C as q,D as T,E as Y,F as G,G as D,H as S,I as Q,J as Z,T as ee,K as te}from"./vendor.875efc4a.js";const oe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}};oe();const se="modulepreload",X={},ne="/",ae=function(t,o){return!o||o.length===0?t():Promise.all(o.map(a=>{if(a=`${ne}${a}`,a in X)return;X[a]=!0;const s=a.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${r}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":se,s||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),s)return new Promise((c,d)=>{l.addEventListener("load",c),l.addEventListener("error",d)})})).then(()=>t())},re={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},le=n("path",{d:"M14 13v4h-4v-4H7l5-5l5 5m2.35-2.97A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 0 0 0 14a6 6 0 0 0 6 6h13a5 5 0 0 0 5-5c0-2.64-2.05-4.78-4.65-4.97z",fill:"currentColor"},null,-1),ie=[le];function ce(e,t){return p(),_("svg",re,ie)}var M={name:"mdi-cloud-upload",render:ce};const L=h({props:{padding:null,primary:{type:Boolean},info:{type:Boolean},success:{type:Boolean},warning:{type:Boolean},danger:{type:Boolean}},setup(e){const t=e,{primary:o,info:a,success:s,warning:r,danger:l}=w(t),c=$(()=>(o==null?void 0:o.value)?"is-primary":(a==null?void 0:a.value)?"is-info":(s==null?void 0:s.value)?"is-success":(r==null?void 0:r.value)?"is-warning":(l==null?void 0:l.value)?"is-danger":void 0);return(d,f)=>(p(),_("button",{class:F(["button","inline-flex","justify-center","items-center","rounded","border","border-1","border-[#dbdbdb]","outline-none","cursor-pointer","select-none",i(c),e.padding||"px-3 py-2"])},[v(d.$slots,"default")],2))}}),ue={class:"select relative"},de=h({props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:t}){const o=a=>{t("update:modelValue",a.target.value)};return(a,s)=>(p(),_("div",ue,[n("select",{onChange:o,class:"pl-2 pr-8 py-2 cursor-pointer block w-full outline-none rounded border border-1 border-[#dbdbdb] appearance-none"},[v(a.$slots,"default")],32)]))}});var pe=class{constructor(e){this.api=O.create({baseURL:e!=null?e:"https://api.xlorpaste.cn"})}format(e){return e.trim()}async upload(e,t,o={}){const{data:a}=await this.api.post("/",{lang:e,body:P.encode(this.format(t)),timestamp:new Date().toISOString(),once:o.once,pass:o.pass});return a}async fetch(e){const{data:t}=await this.api.get(`/${e}`);if("status"in t)throw t;return t.body=this.format(P.decode(t.body)),t}};function _e(e={}){return new pe(e.apiURL)}const N=_e();async function me(e,t){return await N.upload(e,t)}async function he(e){return await N.fetch(e)}const fe=n("span",{class:"font-bold"},"Token ",-1),ve=h({props:{sub:null},setup(e){const t=e,{sub:o}=w(t);return(a,s)=>{const r=k("router-link");return p(),_("p",null,[fe,u(r,{to:{name:"View",params:{token:i(o).token}}},{default:m(()=>[y(g(i(o).token),1)]),_:1},8,["to"])])}}}),be={key:0},ye={class:"mb-4 flex"},ge={class:"inline-flex items-center mr-4"},xe=n("label",{for:"lang",class:"font-bold mr-2"},"\u8BED\u8A00 ",-1),we=n("option",{value:"cpp",selected:""},"C++",-1),$e=n("option",{value:"c"},"C",-1),ke=n("option",{value:"java"},"Java",-1),Ce=n("option",{value:"python"},"Python",-1),Le=n("option",{value:"javascript"},"JavaScript",-1),Ee=n("option",{value:"json"},"JSON",-1),Pe=n("option",{value:"yaml"},"Yaml",-1),Ve=y(" \u63D0\u4EA4"),Be={class:"flex mb-4"},Ae=["rows","onKeydown"],je=y(" \u63D0\u4EA4"),Te={key:1},De=y("\u8FD4\u56DE"),Se=h({setup(e){const t=b(""),o=b("cpp"),a=b(null),s=async()=>{if(t.value.length===0)return;const l=await me(o.value,t.value);a.value=l},r=window.innerWidth>=768?Math.max(10,Math.floor((window.innerHeight-250)/16/window.devicePixelRatio)):10;return(l,c)=>a.value?(p(),_("div",Te,[u(ve,{sub:a.value},null,8,["sub"]),u(L,{onClick:c[3]||(c[3]=d=>a.value=null),info:""},{default:m(()=>[De]),_:1})])):(p(),_("div",be,[n("div",ye,[n("div",ge,[xe,u(i(de),{name:"lang",id:"lang",modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=d=>o.value=d)},{default:m(()=>[we,$e,ke,Ce,Le,Ee,Pe]),_:1},8,["modelValue"])]),u(L,{success:"",onClick:s},{default:m(()=>[u(i(M),{class:"mr-2"}),Ve]),_:1})]),n("div",Be,[V(n("textarea",{ref:"elBody",name:"area-body",id:"area-body",rows:i(r),class:"font-mono text-base flex-1 border-1 border-light-900 rounded px-3 py-2 outline-none focus:border-blue-300",onKeydown:[c[1]||(c[1]=x(C(()=>{},["prevent"]),["tab"])),x(C(s,["ctrl"]),["enter"]),x(C(s,["ctrl","prevent"]),["s"])],"onUpdate:modelValue":c[2]||(c[2]=d=>t.value=d)},null,40,Ae),[[B,t.value]])]),n("div",null,[u(L,{success:"",onClick:s},{default:m(()=>[u(i(M),{class:"mr-2"}),je]),_:1})])]))}});let E=null;async function Xe(){if(!E){const e="/";z(e),K(await fetch(e+"onig.wasm").then(o=>o.arrayBuffer()));const t=[await U("themes/eva-light.json")];E=await W({themes:t,langs:["c","cpp","java","javascript","json","python","typescript","yaml"]})}}async function Me(e,t){return await Xe(),E.codeToHtml(t,{lang:e})}const Ne={key:0,class:"code-box rounded-lg"},He={class:"px-4 py-4 <md:px-2 font-mono flex justify-between items-center",style:{"border-bottom":"1px solid rgb(235, 238, 245)"}},Ie={class:"<md:text-sm"},Re=n("span",{class:"ml-token <md:text-xs"},null,-1),Fe=n("span",{class:"font-bold"},"Token ",-1),Oe=n("span",{class:"font-bold ml-4"},"\u8BED\u8A00 ",-1),Ke=["innerHTML"],Ue=h({props:{sub:null},setup(e){const t=e;J(d=>({"32779396":i(c)}));const{sub:o}=w(t),a=b("");A(o,d=>{Me(d.lang,d.body).then(f=>a.value=f)},{immediate:!0});const s=async()=>{await navigator.clipboard.writeText(o.value.body)},r=$(()=>o.value.body.split(`
`).length),l=b(null),c=$(()=>l.value?l.value.clientWidth+2+"px":"1em");return(d,f)=>{const R=k("router-link");return a.value.length>0?(p(),_("div",Ne,[n("div",He,[n("div",Ie,[Re,Fe,u(R,{to:{name:"View",params:{token:i(o).token}}},{default:m(()=>[y(g(i(o).token),1)]),_:1},8,["to"]),Oe,n("span",null,g(i(o).lang),1)]),n("div",null,[n("a",{class:"px-2 py-2 cursor-pointer",onClick:s},"\u590D\u5236")])]),n("div",{class:"px-4 py-4 overflow-x-auto <md:text-xs <md:p-2",innerHTML:a.value},null,8,Ke),n("div",{class:"hidden-measure font-mono <md:text-xs",ref_key:"measure",ref:l},g(i(r)+1),513)])):j("",!0)}}}),We={key:0},ze=h({setup(e){const t=q(),o=T(),a=b(null);return A(()=>t.params.token,async s=>{try{const r=await he(s);a.value=r}catch{setTimeout(()=>o.push({name:"Home"}),3e3)}},{immediate:!0}),(s,r)=>a.value?(p(),_("div",We,[u(i(Ue),{sub:a.value},null,8,["sub"])])):j("",!0)}}),H=Y({history:G(),routes:[{path:"/",name:"Home",component:Se,meta:{title:"\u4E0A\u4F20"}},{path:"/editor",name:"Editor",component:()=>ae(()=>import("./Editor.fef679ad.js"),["assets/Editor.fef679ad.js","assets/vendor.875efc4a.js"]),meta:{title:"\u7F16\u8F91\u5668"}},{path:"/view/:token",name:"View",component:ze,meta:{title:"\u4EE3\u7801"}}],scrollBehavior(e,t,o){return o||{top:0}}});H.beforeEach(e=>{e.meta.title?document.title=e.meta.title+" - XLor Paste":document.title="XLor Paste"});const Je={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},qe=n("path",{d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z",fill:"currentColor"},null,-1),Ye=[qe];function Ge(e,t){return p(),_("svg",Je,Ye)}var Qe={name:"mdi-github",render:Ge};var Ze=(e,t)=>{const o=e.__vccOpts||e;for(const[a,s]of t)o[a]=s;return o};const et={},tt={class:"py-2 md:px-8 <md:px-4 navbar-flex navbar"},ot={class:"navbar-brand navbar-flex items-center bg-transparent cursor-pointer"},st={class:"navbar-menu navbar-flex flex-1 <md:w-full"},nt={class:"navbar-start justify-start items-center md:mr-auto <md:w-full"},at={class:"<md:hidden navbar-end navbar-flex justify-end items-center ml-auto"};function rt(e,t){return p(),_("nav",tt,[n("div",ot,[v(e.$slots,"brand")]),n("div",st,[n("div",nt,[v(e.$slots,"start"),v(e.$slots,"default")]),n("div",at,[v(e.$slots,"end")])])])}var lt=Ze(et,[["render",rt]]);const I=h({props:{tag:{type:String,default:"a"}},setup(e){return(t,o)=>(p(),D(S(e.tag),{class:"navbar-item flex select-none cursor-pointer rounded px-[0.75rem] py-[0.5rem] hover:(bg-gray-100 text-blue-500)"},{default:m(()=>[v(t.$slots,"default")]),_:3}))}});const it=y("XLorPaste"),ct={class:"flex relative font-mono <md:w-full"},ut=["onKeypress"],dt={class:"md:px-10 <md:px-[1.75rem] pt-6 main-view"},pt={class:"mt-4 px-1 py-4 text-sm"},_t={class:"text-center text-gray-400"},mt={class:"flex items-center justify-center font-mono h-4 my-1"},ht={class:"text-$text-light-1 inline-block mr-2",href:"https://github.com/XLorPaste",target:"_blank"},ft=["href"],vt=["href"],bt=Z('<p class="font-mono my-1"><a href="https://github.com/XLorPaste/XLorPaste/blob/master/LICENSE" target="_blank" rel="noopener noreferrer">MIT</a> Licensed | <a href="https://upptime.xlorpaste.cn/" target="_blank" rel="noopener noreferrer">Status</a> | <a href="http://www.miitbeian.gov.cn" target="_blank" rel="noopener noreferrer">\u82CFICP\u590719000844\u53F7</a></p><p class="font-mono my-1"><span>\xA9 2021 </span><a href="https://github.com/yjl9903" target="_blank">XLor</a><span> All rights reserved</span></p>',2),yt=h({setup(e){const t="0.0.0",o="f2591e4d0c34905ddf566a55b3dd4520a713b670",a=T(),s=b(""),r=async()=>{await a.push({name:"View",params:{token:s.value}}),s.value=""};return(l,c)=>{const d=k("router-view");return p(),_(Q,null,[u(i(lt),null,{brand:m(()=>[u(i(I),{tag:"router-link",to:{name:"Home"},class:"font-mono font-bold text-xl"},{default:m(()=>[it]),_:1})]),start:m(()=>[u(i(I),null,{default:m(()=>[n("div",ct,[V(n("input",{type:"text",name:"search",id:"search",placeholder:"\u4EE3\u7801 Token",autocomplete:"off",class:"flex-1 px-2 py-2 rounded-md border-1 border-light-900 outline-none focus:border-blue-300","onUpdate:modelValue":c[0]||(c[0]=f=>s.value=f),onKeypress:x(r,["enter"])},null,40,ut),[[B,s.value]])])]),_:1})]),_:1}),n("div",dt,[u(d,null,{default:m(({Component:f})=>[u(ee,{name:"fade"},{default:m(()=>[(p(),D(S(f)))]),_:2},1024)]),_:1})]),n("footer",pt,[n("div",_t,[n("div",mt,[n("a",ht,[u(i(Qe),{class:"align-middle"})]),i(o)?(p(),_("a",{key:1,class:"inline-block",href:`https://github.com/XLorPaste/XLorPaste/tree/${i(o)}`,target:"_blank"},[n("span",null,"XLorPaste: "+g(i(o).slice(0,10)),1)],8,vt)):(p(),_("a",{key:0,class:"inline-block",href:"https://github.com/XLorPaste/XLorPaste",target:"_blank"},[n("span",null,"XLorPaste: "+g(i(t)),1)],8,ft))]),bt])])],64)}}});te(yt).use(H).mount("#app");export{Ze as _};
