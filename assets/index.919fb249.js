import{o as d,c as m,a,d as h,t as y,b as I,r as f,n as R,u,e as X,g as C,f as L,h as c,w as _,i as v,j as w,k as b,l as E,v as B,m as g,p as $,s as F,q as O,x as K,y as z,z as J,A,B as U,C as P,D as W,E as q,F as Y,G,H as M,I as T,J as Q,K as Z,T as ee,L as te}from"./vendor.e8565a66.js";const oe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};oe();const ne="modulepreload",S={},se="/",ae=function(t,n){return!n||n.length===0?t():Promise.all(n.map(s=>{if(s=`${se}${s}`,s in S)return;S[s]=!0;const o=s.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${r}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":ne,o||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),o)return new Promise((i,p)=>{l.addEventListener("load",i),l.addEventListener("error",p)})})).then(()=>t())},re={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},le=a("path",{d:"M14 13v4h-4v-4H7l5-5l5 5m2.35-2.97A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 0 0 0 14a6 6 0 0 0 6 6h13a5 5 0 0 0 5-5c0-2.64-2.05-4.78-4.65-4.97z",fill:"currentColor"},null,-1),ie=[le];function ce(e,t){return d(),m("svg",re,ie)}var j={name:"mdi-cloud-upload",render:ce};const x=h({props:{padding:null,primary:{type:Boolean},info:{type:Boolean},success:{type:Boolean},warning:{type:Boolean},danger:{type:Boolean}},setup(e){const t=e,{primary:n,info:s,success:o,warning:r,danger:l}=y(t),i=I(()=>(n==null?void 0:n.value)?"is-primary":(s==null?void 0:s.value)?"is-info":(o==null?void 0:o.value)?"is-success":(r==null?void 0:r.value)?"is-warning":(l==null?void 0:l.value)?"is-danger":void 0);return(p,yt)=>(d(),m("button",{class:R(["button","inline-flex","justify-center","items-center","rounded","border","border-1","border-[#dbdbdb]","outline-none","cursor-pointer","select-none",u(i),e.padding||"px-3 py-2"])},[f(p.$slots,"default")],2))}});var D=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};const ue={},de={class:"select relative"},_e={class:"pl-2 pr-8 py-2 cursor-pointer block w-full outline-none rounded border border-1 border-[#dbdbdb] appearance-none"};function pe(e,t){return d(),m("div",de,[a("select",_e,[f(e.$slots,"default")])])}var me=D(ue,[["render",pe]]),he=class{constructor(e){this.api=X.create({baseURL:e!=null?e:"https://api.xlorpaste.cn"})}format(e){return e.trim()}async upload(e,t,n={}){const{data:s}=await this.api.post("/",{lang:e,body:C.encode(this.format(t)),timestamp:new Date().toISOString(),once:n.once,pass:n.pass});return s}async fetch(e){const{data:t}=await this.api.get(`/${e}`);if("status"in t)throw t;return t.body=this.format(C.decode(t.body)),t}};function fe(e={}){return new he(e.apiURL)}const V=fe();async function ve(e,t){return await V.upload(e,t)}async function be(e){return await V.fetch(e)}const ye=v(" Token: "),ge=h({props:{sub:null},setup(e){const t=e,{sub:n}=y(t);return(s,o)=>{const r=L("router-link");return d(),m("p",null,[ye,c(r,{to:{name:"View",params:{token:u(n).token}}},{default:_(()=>[v(w(u(n).token),1)]),_:1},8,["to"])])}}}),xe={key:0},we={class:"mb-4 flex"},$e={class:"inline-flex items-center mr-4"},ke=a("label",{for:"lang",class:"font-bold mr-2"},"\u8BED\u8A00 ",-1),Ce=a("option",{value:"cpp"},"C++",-1),Le=a("option",{value:"c"},"C",-1),Ee=a("option",{value:"java"},"Java",-1),Be=a("option",{value:"python"},"Python",-1),Ae=a("option",{value:"javascript"},"JavaScript",-1),Pe=a("option",{value:"json"},"JSON",-1),Me=a("option",{value:"yaml"},"Yaml",-1),Te=v(" \u63D0\u4EA4"),Se={class:"flex mb-4"},je=["rows","onKeydown"],De=v(" \u63D0\u4EA4"),Ve={key:1},Ne=v("\u8FD4\u56DE"),He=h({setup(e){const t=b(""),n=b("cpp"),s=b(null),o=async()=>{if(t.value.length===0)return;const l=await ve(n.value,t.value);s.value=l},r=window.innerWidth>=768?Math.max(10,Math.floor((window.innerHeight-250)/16/window.devicePixelRatio)):0;return(l,i)=>s.value?(d(),m("div",Ve,[c(ge,{sub:s.value},null,8,["sub"]),c(x,{onClick:i[2]||(i[2]=p=>s.value=null),info:""},{default:_(()=>[Ne]),_:1})])):(d(),m("div",xe,[a("div",we,[a("div",$e,[ke,c(u(me),{name:"lang",id:"lang"},{default:_(()=>[Ce,Le,Ee,Be,Ae,Pe,Me]),_:1})]),c(x,{success:"",onClick:o},{default:_(()=>[c(u(j),{class:"mr-2"}),Te]),_:1})]),a("div",Se,[E(a("textarea",{ref:"elBody",name:"area-body",id:"area-body",rows:u(r),class:"font-mono text-base flex-1 border-1 border-light-900 rounded px-3 py-2 outline-none focus:border-blue-300",onKeydown:[i[0]||(i[0]=g($(()=>{},["prevent"]),["tab"])),g($(o,["ctrl"]),["enter"]),g($(o,["ctrl","prevent"]),["s"])],"onUpdate:modelValue":i[1]||(i[1]=p=>t.value=p)},null,40,je),[[B,t.value]])]),a("div",null,[c(x,{success:"",onClick:o},{default:_(()=>[c(u(j),{class:"mr-2"}),De]),_:1})])]))}});let k=null;async function Ie(){if(!k){const e="/";z(e),F(await fetch(e+"onig.wasm").then(n=>n.arrayBuffer()));const t=[await O("themes/eva-light.json")];k=await K({themes:t,langs:["cpp"]})}}async function Re(e,t){return await Ie(),k.codeToHtml(t,{lang:e})}const Xe={key:0,class:"code-box rounded-lg"},Fe={class:"px-4 py-4 font-mono flex justify-between items-center",style:{"border-bottom":"1px solid rgb(235, 238, 245)"}},Oe={class:"inline-block"},Ke=v("\u590D\u5236"),ze=["innerHTML"],Je=h({props:{sub:null},setup(e){const t=e;J(i=>({"5f739d9e":o}));const{sub:n}=y(t),s=n.value.body.split(`
`).length,o=Math.round(Math.log10(s))+"rem",r=b("");Re(n.value.lang,n.value.body).then(i=>r.value=i);const l=async()=>{await navigator.clipboard.writeText(n.value.body)};return(i,p)=>r.value.length>0?(d(),m("div",Xe,[a("div",Fe,[a("div",Oe,"Token: "+w(u(n).token),1),a("div",null,[c(x,{padding:"px-2 py-2",info:"",onClick:l},{default:_(()=>[Ke]),_:1})])]),a("div",{class:"px-4 py-4 overflow-x-auto",innerHTML:r.value},null,8,ze)])):A("",!0)}}),Ue={key:0},We=h({setup(e){const t=U(),n=P(),{token:s}=y(W(t.params)),o=b(null);return q(s,async r=>{try{const l=await be(r);o.value=l}catch{setTimeout(()=>n.push({name:"Home"}),3e3)}},{immediate:!0}),(r,l)=>o.value?(d(),m("div",Ue,[c(u(Je),{sub:o.value},null,8,["sub"])])):A("",!0)}}),N=Y({history:G(),routes:[{path:"/",name:"Home",component:He,meta:{title:"\u4E0A\u4F20"}},{path:"/editor",name:"Editor",component:()=>ae(()=>import("./Editor.180136d6.js"),["assets/Editor.180136d6.js","assets/vendor.e8565a66.js"]),meta:{title:"\u7F16\u8F91\u5668"}},{path:"/view/:token",name:"View",component:We,meta:{title:"\u4EE3\u7801"}}],scrollBehavior(e,t,n){return n||{top:0}}});N.beforeEach(e=>{e.meta.title?document.title=e.meta.title+" - XLor Paste":document.title="XLor Paste"});const qe={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Ye=a("path",{d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z",fill:"currentColor"},null,-1),Ge=[Ye];function Qe(e,t){return d(),m("svg",qe,Ge)}var Ze={name:"mdi-github",render:Qe};const et={},tt={class:"py-2 md:px-8 <md:px-4 navbar-flex navbar"},ot={class:"navbar-brand navbar-flex items-center bg-transparent cursor-pointer"},nt={class:"navbar-menu navbar-flex flex-1 <md:w-full"},st={class:"navbar-start justify-start items-center md:mr-auto <md:w-full"},at={class:"<md:hidden navbar-end navbar-flex justify-end items-center ml-auto"};function rt(e,t){return d(),m("nav",tt,[a("div",ot,[f(e.$slots,"brand")]),a("div",nt,[a("div",st,[f(e.$slots,"start"),f(e.$slots,"default")]),a("div",at,[f(e.$slots,"end")])])])}var lt=D(et,[["render",rt]]);const H=h({props:{tag:{type:String,default:"a"}},setup(e){return(t,n)=>(d(),M(T(e.tag),{class:"navbar-item flex select-none cursor-pointer rounded px-[0.75rem] py-[0.5rem] hover:(bg-gray-100 text-blue-500)"},{default:_(()=>[f(t.$slots,"default")]),_:3}))}});const it=v("XLorPaste"),ct={class:"flex relative font-mono <md:w-full"},ut=["onKeypress"],dt={class:"md:px-10 <md:px-[1.75rem] pt-6 main-view"},_t={class:"mt-4 px-1 py-4 text-sm"},pt={class:"text-center text-gray-400"},mt={class:"flex items-center justify-center font-mono h-4 my-1"},ht={class:"text-$text-light-1 inline-block mr-2",href:"https://github.com/",target:"_blank"},ft=["href"],vt=Z('<p class="font-mono my-1"><a href="https://github.com/XLorPaste/XLorPaste/blob/master/LICENSE" target="_blank" rel="noopener noreferrer">MIT</a> Licensed | <a href="https://upptime.xlorpaste.cn/" target="_blank" rel="noopener noreferrer">Status</a> | <a href="http://www.miitbeian.gov.cn" target="_blank" rel="noopener noreferrer">\u82CFICP\u590719000844\u53F7</a></p><p class="font-mono my-1"><span>\xA9 2021 </span><a href="https://github.com/yjl9903" target="_blank">XLor</a><span> All rights reserved</span></p>',2),bt=h({setup(e){const t="0.0.0",n=P(),s=b(""),o=async()=>{await n.push({name:"View",params:{token:s.value}}),s.value=""};return(r,l)=>{const i=L("router-view");return d(),m(Q,null,[c(u(lt),null,{brand:_(()=>[c(u(H),{tag:"router-link",to:{name:"Home"},class:"font-mono font-bold text-xl"},{default:_(()=>[it]),_:1})]),start:_(()=>[c(u(H),null,{default:_(()=>[a("div",ct,[E(a("input",{type:"text",name:"search",id:"search",placeholder:"\u4EE3\u7801 Token",autocomplete:"off",class:"flex-1 px-2 py-2 rounded-md border-1 border-light-900 outline-none focus:border-blue-300","onUpdate:modelValue":l[0]||(l[0]=p=>s.value=p),onKeypress:g(o,["enter"])},null,40,ut),[[B,s.value]])])]),_:1})]),_:1}),a("div",dt,[c(i,null,{default:_(({Component:p})=>[c(ee,{name:"fade"},{default:_(()=>[(d(),M(T(p)))]),_:2},1024)]),_:1})]),a("footer",_t,[a("div",pt,[a("div",mt,[a("a",ht,[c(u(Ze),{class:"align-middle"})]),a("a",{class:"inline-block block",href:"https://github.com/XLorPaste/XLorPaste",target:"_blank"}," XLorPaste: "+w(u(t)),9,ft)]),vt])])],64)}}});te(bt).use(N).mount("#app");export{D as _};
