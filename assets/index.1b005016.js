import{o as _,c as m,a as e,d as v,t as w,b as k,r as b,n as I,u as c,e as O,g as F,f as y,h as E,i as u,w as p,j as h,k as g,l as C,v as K,m as U,p as P,q as $,s as L,x as W,y as q,z,A as J,B as Y,C as T,D as V,E as G,F as j,G as Q,H as Z,I as D,J as S,K as ee,L as te,T as se,M as oe}from"./vendor.7a991456.js";const ne=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(a){if(a.ep)return;a.ep=!0;const r=o(a);fetch(a.href,r)}};ne();const ae="modulepreload",M={},re="/",le=function(s,o){return!o||o.length===0?s():Promise.all(o.map(n=>{if(n=`${re}${n}`,n in M)return;M[n]=!0;const a=n.endsWith(".css"),r=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${r}`))return;const l=document.createElement("link");if(l.rel=a?"stylesheet":ae,a||(l.as="script",l.crossOrigin=""),l.href=n,document.head.appendChild(l),a)return new Promise((i,d)=>{l.addEventListener("load",i),l.addEventListener("error",d)})})).then(()=>s())},ce={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},ie=e("path",{d:"M14 13v4h-4v-4H7l5-5l5 5m2.35-2.97A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 0 0 0 14a6 6 0 0 0 6 6h13a5 5 0 0 0 5-5c0-2.64-2.05-4.78-4.65-4.97z",fill:"currentColor"},null,-1),ue=[ie];function de(t,s){return _(),m("svg",ce,ue)}var X={name:"mdi-cloud-upload",render:de};const x=v({props:{padding:null,primary:{type:Boolean},info:{type:Boolean},success:{type:Boolean},warning:{type:Boolean},danger:{type:Boolean}},setup(t){const s=t,{primary:o,info:n,success:a,warning:r,danger:l}=w(s),i=k(()=>(o==null?void 0:o.value)?"is-primary":(n==null?void 0:n.value)?"is-info":(a==null?void 0:a.value)?"is-success":(r==null?void 0:r.value)?"is-warning":(l==null?void 0:l.value)?"is-danger":void 0);return(d,f)=>(_(),m("button",{class:I(["button","inline-flex","justify-center","items-center","rounded","border","border-1","border-[#dbdbdb]","outline-none","cursor-pointer","select-none",c(i),t.padding||"px-3 py-2"])},[b(d.$slots,"default")],2))}}),pe={class:"select relative"},_e=v({props:["modelValue"],emits:["update:modelValue"],setup(t,{emit:s}){const o=n=>{s("update:modelValue",n.target.value)};return(n,a)=>(_(),m("div",pe,[e("select",{onChange:o,class:"pl-2 pr-8 py-2 cursor-pointer block w-full outline-none rounded border border-1 border-[#dbdbdb] appearance-none"},[b(n.$slots,"default")],32)]))}});var me=class{constructor(t){this.api=O.create({baseURL:t!=null?t:"https://api.xlorpaste.cn"})}format(t){return t.trim()}async upload(t,s,o={}){const{data:n}=await this.api.post("/",{lang:t,body:F.encode(this.format(s)),timestamp:new Date().toISOString(),once:o.once,pass:o.pass});return n}async fetch(t){const{data:s}=await this.api.get(`/${t}`);if("status"in s)throw s;return s.body=this.format(F.decode(s.body)),s}async remove(t){try{const{data:s}=await this.api.delete(`/${t}`);return s.status==="OK"}catch{return!1}}};function he(t={}){return new me(t.apiURL)}const N=he();async function fe(t,s){return await N.upload(t,s)}async function ve(t){return await N.fetch(t)}const be={class:"rounded bg-light-400 p-8"},ye=e("h2",null,"\u4E0A\u4F20\u6210\u529F",-1),ge=e("span",null,"\u60A8\u5206\u4EAB\u7684\u4EE3\u7801 ",-1),xe=e("span",{class:"font-bold font-mono"},"Token",-1),$e=e("span",null," \u662F ",-1),we=e("span",null,".",-1),ke=e("p",null,"\u60A8\u73B0\u5728\u53EF\u4EE5",-1),Ee={class:"h-8"},Ce=h(" \u5728\u5BFC\u822A\u680F\u8F93\u5165 "),Le=e("span",{class:"font-bold font-mono"},"Token",-1),Ae={class:"text-brand font-mono"},Be=h("\u590D\u5236 Token"),Fe={class:"h-8"},Pe=h(" \u8BBF\u95EE\u4EE3\u7801\u94FE\u63A5 "),Te=h("\u590D\u5236\u94FE\u63A5"),Ve={class:"min-h-8"},je=v({props:{sub:null},setup(t){const s=t,{sub:o}=w(s),n=window.origin+"/view/"+o.value.token,a=async()=>{await window.navigator.clipboard.writeText(o.value.token)},r=async()=>{await window.navigator.clipboard.writeText(n)},l=y(!1);return(i,d)=>{const f=E("router-link");return _(),m("div",be,[ye,e("p",null,[ge,xe,$e,u(f,{class:"font-mono",to:{name:"View",params:{token:c(o).token}}},{default:p(()=>[h(g(c(o).token),1)]),_:1},8,["to"]),we]),ke,e("ul",null,[e("li",Ee,[Ce,Le,e("span",Ae,g(c(o).token),1),u(x,{padding:"px-2 py-1",class:"text-xs",success:"",onClick:a},{default:p(()=>[Be]),_:1})]),e("li",Fe,[Pe,e("a",{class:"font-mono",href:n,target:"_blank"},g(n)),u(x,{padding:"px-2 py-1",class:"text-xs",success:"",onClick:r},{default:p(()=>[Te]),_:1})]),e("li",Ve,[e("div",{class:"cursor-pointer text-brand select-none",onClick:d[0]||(d[0]=B=>l.value=!l.value)}," \u751F\u6210\u4E8C\u7EF4\u7801 "),C(u(c(U),{class:"mt-2",value:n,options:{width:120}},null,512),[[K,l.value]])])]),b(i.$slots,"default")])}}}),De={key:0},Se={class:"mb-4 flex"},Me={class:"inline-flex items-center mr-4"},Xe=e("label",{for:"lang",class:"font-bold mr-2"},"\u8BED\u8A00 ",-1),Ne=e("option",{value:"text",selected:""},"\u7EAF\u6587\u672C",-1),Re=e("option",{value:"cpp",selected:""},"C++",-1),He=e("option",{value:"c"},"C",-1),Ie=e("option",{value:"java"},"Java",-1),Oe=e("option",{value:"python"},"Python",-1),Ke=e("option",{value:"javascript"},"JavaScript",-1),Ue=e("option",{value:"json"},"JSON",-1),We=e("option",{value:"yaml"},"Yaml",-1),qe=h(" \u63D0\u4EA4"),ze={class:"flex mb-4"},Je=["rows","onKeydown"],Ye=h(" \u63D0\u4EA4"),Ge={key:1},Qe=h("\u8FD4\u56DE"),Ze=v({setup(t){const s=y(""),o=y("cpp"),n=y(null),a=async()=>{if(s.value.length===0)return;const l=await fe(o.value,s.value);n.value=l,s.value=""},r=window.innerWidth>=768?Math.max(10,Math.floor((window.innerHeight-250)/16/window.devicePixelRatio)):10;return(l,i)=>n.value?(_(),m("div",Ge,[u(je,{sub:n.value},{default:p(()=>[u(x,{onClick:i[3]||(i[3]=d=>n.value=null),info:""},{default:p(()=>[Qe]),_:1})]),_:1},8,["sub"])])):(_(),m("div",De,[e("div",Se,[e("div",Me,[Xe,u(c(_e),{name:"lang",id:"lang",modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=d=>o.value=d)},{default:p(()=>[Ne,Re,He,Ie,Oe,Ke,Ue,We]),_:1},8,["modelValue"])]),u(x,{success:"",onClick:a},{default:p(()=>[u(c(X),{class:"mr-2"}),qe]),_:1})]),e("div",ze,[C(e("textarea",{ref:"elBody",name:"area-body",id:"area-body",rows:c(r),class:"font-mono text-base flex-1 border-1 border-light-900 rounded px-3 py-2 outline-none focus:border-blue-300",onKeydown:[i[1]||(i[1]=$(L(()=>{},["prevent"]),["tab"])),$(L(a,["ctrl"]),["enter"]),$(L(a,["ctrl","prevent"]),["s"])],"onUpdate:modelValue":i[2]||(i[2]=d=>s.value=d)},null,40,Je),[[P,s.value]])]),e("div",null,[u(x,{success:"",onClick:a},{default:p(()=>[u(c(X),{class:"mr-2"}),Ye]),_:1})])]))}});let A=null;async function et(){if(!A){const t="/";J(t),W(await fetch(t+"onig.wasm").then(o=>o.arrayBuffer()));const s=[await q("themes/eva-light.json")];A=await z({themes:s,langs:["c","cpp","java","javascript","json","python","typescript","yaml"]})}}async function tt(t,s){return t==="text"?`<pre class="shiki"><code>${s.replace(/[<>"& ]/g,n=>{switch(n){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"&":return"&amp;";case" ":return"&nbsp;";default:return""}}).split(`
`).map(n=>`<span class="line">${n}</span>`).join(`
`)}</code></pre>`:(await et(),A.codeToHtml(s,{lang:t}))}const st={key:0,class:"code-box rounded-lg"},ot={class:"px-4 py-4 <md:px-2 font-mono flex justify-between items-center",style:{"border-bottom":"1px solid rgb(235, 238, 245)"}},nt={class:"<md:text-sm"},at=e("span",{class:"ml-token <md:text-xs"},null,-1),rt=e("span",{class:"font-bold"},"Token ",-1),lt=e("span",{class:"font-bold ml-4"},"\u8BED\u8A00 ",-1),ct=["innerHTML"],it=v({props:{sub:null},setup(t){const s=t;Y(d=>({d1b1ac32:c(i)}));const{sub:o}=w(s),n=y("");T(o,d=>{tt(d.lang,d.body).then(f=>n.value=f)},{immediate:!0});const a=async()=>{await navigator.clipboard.writeText(o.value.body)},r=k(()=>o.value.body.split(`
`).length),l=y(null),i=k(()=>l.value?l.value.clientWidth+2+"px":"1em");return(d,f)=>{const B=E("router-link");return n.value.length>0?(_(),m("div",st,[e("div",ot,[e("div",nt,[at,rt,u(B,{to:{name:"View",params:{token:c(o).token}}},{default:p(()=>[h(g(c(o).token),1)]),_:1},8,["to"]),lt,e("span",null,g(c(o).lang),1)]),e("div",null,[e("a",{class:"px-2 py-2 cursor-pointer",onClick:a},"\u590D\u5236")])]),e("div",{class:"px-4 py-4 overflow-x-auto <md:text-xs <md:p-2",innerHTML:n.value},null,8,ct),e("div",{class:"hidden-measure font-mono <md:text-xs",ref_key:"measure",ref:l},g(c(r)+1),513)])):V("",!0)}}}),ut={key:0},dt=v({setup(t){const s=G(),o=j(),n=y(null);return T(()=>s.params.token,async a=>{try{const r=await ve(a);n.value=r}catch{setTimeout(()=>o.push({name:"Home"}),3e3)}},{immediate:!0}),(a,r)=>n.value?(_(),m("div",ut,[u(c(it),{sub:n.value},null,8,["sub"])])):V("",!0)}}),R=Q({history:Z(),routes:[{path:"/",name:"Home",component:Ze,meta:{title:"\u4E0A\u4F20"}},{path:"/editor",name:"Editor",component:()=>le(()=>import("./Editor.3aa9e1a1.js"),["assets/Editor.3aa9e1a1.js","assets/vendor.7a991456.js"]),meta:{title:"\u7F16\u8F91\u5668"}},{path:"/view/:token",name:"View",component:dt,meta:{title:"\u4EE3\u7801"}}],scrollBehavior(t,s,o){return o||{top:0}}});R.beforeEach(t=>{t.meta.title?document.title=t.meta.title+" - XLor Paste":document.title="XLor Paste"});const pt={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},_t=e("path",{d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z",fill:"currentColor"},null,-1),mt=[_t];function ht(t,s){return _(),m("svg",pt,mt)}var ft={name:"mdi-github",render:ht};var vt=(t,s)=>{const o=t.__vccOpts||t;for(const[n,a]of s)o[n]=a;return o};const bt={},yt={class:"py-2 md:px-8 <md:px-4 navbar-flex navbar"},gt={class:"navbar-brand navbar-flex items-center bg-transparent cursor-pointer"},xt={class:"navbar-menu navbar-flex flex-1 <md:w-full"},$t={class:"navbar-start justify-start items-center md:mr-auto <md:w-full"},wt={class:"<md:hidden navbar-end navbar-flex justify-end items-center ml-auto"};function kt(t,s){return _(),m("nav",yt,[e("div",gt,[b(t.$slots,"brand")]),e("div",xt,[e("div",$t,[b(t.$slots,"start"),b(t.$slots,"default")]),e("div",wt,[b(t.$slots,"end")])])])}var Et=vt(bt,[["render",kt]]);const H=v({props:{tag:{type:String,default:"a"}},setup(t){return(s,o)=>(_(),D(S(t.tag),{class:"navbar-item flex select-none cursor-pointer rounded px-[0.75rem] py-[0.5rem] hover:(bg-gray-100 text-blue-500)"},{default:p(()=>[b(s.$slots,"default")]),_:3}))}});const Ct=h("XLorPaste"),Lt={class:"flex relative font-mono <md:w-full"},At=["onKeypress"],Bt={class:"md:px-10 <md:px-[1.75rem] pt-6 main-view"},Ft={class:"mt-4 px-1 py-4 text-sm"},Pt={class:"text-center text-gray-400"},Tt={class:"flex items-center justify-center font-mono h-4 my-1"},Vt={class:"text-$text-light-1 inline-block mr-2",href:"https://github.com/XLorPaste",target:"_blank"},jt=["href"],Dt=["href"],St=te('<p class="font-mono my-1"><a href="https://github.com/XLorPaste/XLorPaste/blob/master/LICENSE" target="_blank" rel="noopener noreferrer">MIT</a> Licensed | <a href="https://upptime.xlorpaste.cn/" target="_blank" rel="noopener noreferrer">Status</a> | <a href="http://www.miitbeian.gov.cn" target="_blank" rel="noopener noreferrer">\u82CFICP\u590719000844\u53F7</a></p><p class="font-mono my-1"><span>\xA9 2021 </span><a href="https://github.com/yjl9903" target="_blank">XLor</a><span> All rights reserved</span></p>',2),Mt=v({setup(t){const s="0.0.0",o="c6eba1e2f808482ef401cf9c028264c8ce301178",n=j(),a=y(""),r=async()=>{await n.push({name:"View",params:{token:a.value}}),a.value=""};return(l,i)=>{const d=E("router-view");return _(),m(ee,null,[u(c(Et),null,{brand:p(()=>[u(c(H),{tag:"router-link",to:{name:"Home"},class:"font-mono font-bold text-xl"},{default:p(()=>[Ct]),_:1})]),start:p(()=>[u(c(H),null,{default:p(()=>[e("div",Lt,[C(e("input",{type:"text",name:"search",id:"search",placeholder:"\u4EE3\u7801 Token",autocomplete:"off",class:"flex-1 px-2 py-2 rounded-md border-1 border-light-900 outline-none focus:border-blue-300","onUpdate:modelValue":i[0]||(i[0]=f=>a.value=f),onKeypress:$(r,["enter"])},null,40,At),[[P,a.value]])])]),_:1})]),_:1}),e("div",Bt,[u(d,null,{default:p(({Component:f})=>[u(se,{name:"fade"},{default:p(()=>[(_(),D(S(f)))]),_:2},1024)]),_:1})]),e("footer",Ft,[e("div",Pt,[e("div",Tt,[e("a",Vt,[u(c(ft),{class:"align-middle"})]),c(o)?(_(),m("a",{key:1,class:"inline-block",href:`https://github.com/XLorPaste/XLorPaste/tree/${c(o)}`,target:"_blank"},[e("span",null,"XLorPaste: "+g(c(o).slice(0,10)),1)],8,Dt)):(_(),m("a",{key:0,class:"inline-block",href:"https://github.com/XLorPaste/XLorPaste",target:"_blank"},[e("span",null,"XLorPaste: "+g(c(s)),1)],8,jt))]),St])])],64)}}});oe(Mt).use(R).mount("#app");export{vt as _};
