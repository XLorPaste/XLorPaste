import{q as Ve,s as Qe}from"./index.98773d81.js";var ve={exports:{}};(function(p,v){(function(j,t){p.exports=t()})(Ve,function(){return j={770:function(S,L,_){var I=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(L,"__esModule",{value:!0}),L.setDefaultDebugCall=L.createOnigScanner=L.createOnigString=L.loadWASM=L.OnigScanner=L.OnigString=void 0;const N=I(_(418));let r=null,d=!1;class k{constructor(u){const h=u.length,o=k._utf8ByteLength(u),c=o!==h,e=c?new Uint32Array(h+1):null;c&&(e[h]=o);const n=c?new Uint32Array(o+1):null;c&&(n[o]=h);const s=new Uint8Array(o);let y=0;for(let b=0;b<h;b++){const P=u.charCodeAt(b);let A=P,O=!1;if(P>=55296&&P<=56319&&b+1<h){const q=u.charCodeAt(b+1);q>=56320&&q<=57343&&(A=65536+(P-55296<<10)|q-56320,O=!0)}c&&(e[b]=y,O&&(e[b+1]=y),A<=127?n[y+0]=b:A<=2047?(n[y+0]=b,n[y+1]=b):A<=65535?(n[y+0]=b,n[y+1]=b,n[y+2]=b):(n[y+0]=b,n[y+1]=b,n[y+2]=b,n[y+3]=b)),A<=127?s[y++]=A:A<=2047?(s[y++]=192|(1984&A)>>>6,s[y++]=128|(63&A)>>>0):A<=65535?(s[y++]=224|(61440&A)>>>12,s[y++]=128|(4032&A)>>>6,s[y++]=128|(63&A)>>>0):(s[y++]=240|(1835008&A)>>>18,s[y++]=128|(258048&A)>>>12,s[y++]=128|(4032&A)>>>6,s[y++]=128|(63&A)>>>0),O&&b++}this.utf16Length=h,this.utf8Length=o,this.utf16Value=u,this.utf8Value=s,this.utf16OffsetToUtf8=e,this.utf8OffsetToUtf16=n}static _utf8ByteLength(u){let h=0;for(let o=0,c=u.length;o<c;o++){const e=u.charCodeAt(o);let n=e,s=!1;if(e>=55296&&e<=56319&&o+1<c){const y=u.charCodeAt(o+1);y>=56320&&y<=57343&&(n=65536+(e-55296<<10)|y-56320,s=!0)}h+=n<=127?1:n<=2047?2:n<=65535?3:4,s&&o++}return h}createString(u){const h=u._omalloc(this.utf8Length);return u.HEAPU8.set(this.utf8Value,h),h}}class w{constructor(u){if(this.id=++w.LAST_ID,!r)throw new Error("Must invoke loadWASM first.");this._onigBinding=r,this.content=u;const h=new k(u);this.utf16Length=h.utf16Length,this.utf8Length=h.utf8Length,this.utf16OffsetToUtf8=h.utf16OffsetToUtf8,this.utf8OffsetToUtf16=h.utf8OffsetToUtf16,this.utf8Length<1e4&&!w._sharedPtrInUse?(w._sharedPtr||(w._sharedPtr=r._omalloc(1e4)),w._sharedPtrInUse=!0,r.HEAPU8.set(h.utf8Value,w._sharedPtr),this.ptr=w._sharedPtr):this.ptr=h.createString(r)}convertUtf8OffsetToUtf16(u){return this.utf8OffsetToUtf16?u<0?0:u>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[u]:u}convertUtf16OffsetToUtf8(u){return this.utf16OffsetToUtf8?u<0?0:u>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[u]:u}dispose(){this.ptr===w._sharedPtr?w._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}L.OnigString=w,w.LAST_ID=0,w._sharedPtr=0,w._sharedPtrInUse=!1;class i{constructor(u){if(!r)throw new Error("Must invoke loadWASM first.");const h=[],o=[];for(let s=0,y=u.length;s<y;s++){const b=new k(u[s]);h[s]=b.createString(r),o[s]=b.utf8Length}const c=r._omalloc(4*u.length);r.HEAPU32.set(h,c/4);const e=r._omalloc(4*u.length);r.HEAPU32.set(o,e/4);const n=r._createOnigScanner(c,e,u.length);for(let s=0,y=u.length;s<y;s++)r._ofree(h[s]);r._ofree(e),r._ofree(c),n===0&&function(s){throw new Error(s.UTF8ToString(s._getLastOnigError()))}(r),this._onigBinding=r,this._ptr=n}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(u,h,o){let c=d,e=0;if(typeof o=="number"?(8&o&&(c=!0),e=o):typeof o=="boolean"&&(c=o),typeof u=="string"){u=new w(u);const n=this._findNextMatchSync(u,h,c,e);return u.dispose(),n}return this._findNextMatchSync(u,h,c,e)}_findNextMatchSync(u,h,o,c){const e=this._onigBinding;let n;if(n=o?e._findNextOnigScannerMatchDbg(this._ptr,u.id,u.ptr,u.utf8Length,u.convertUtf16OffsetToUtf8(h),c):e._findNextOnigScannerMatch(this._ptr,u.id,u.ptr,u.utf8Length,u.convertUtf16OffsetToUtf8(h),c),n===0)return null;const s=e.HEAPU32;let y=n/4;const b=s[y++],P=s[y++];let A=[];for(let O=0;O<P;O++){const q=u.convertUtf8OffsetToUtf16(s[y++]),H=u.convertUtf8OffsetToUtf16(s[y++]);A[O]={start:q,end:H,length:H-q}}return{index:b,captureIndices:A}}}L.OnigScanner=i;let T=!1,g=null;L.loadWASM=function(l){if(T)return g;let u,h,o,c;if(T=!0,function(e){return typeof e.instantiator=="function"}(l))u=l.instantiator,h=l.print;else{let e;l instanceof ArrayBuffer||l instanceof Response?e=l:(e=l.data,h=l.print),u=e instanceof ArrayBuffer?function(n){return s=>WebAssembly.instantiate(n,s)}(e):e instanceof Response&&typeof WebAssembly.instantiateStreaming=="function"?function(n){return s=>WebAssembly.instantiateStreaming(n,s)}(e):function(n){return async s=>{const y=await n.arrayBuffer();return WebAssembly.instantiate(y,s)}}(e)}return g=new Promise((e,n)=>{o=e,c=n}),function(e,n,s,y){N.default({print:n,instantiateWasm:(b,P)=>{if(typeof performance>"u"){const A=()=>Date.now();b.env.emscripten_get_now=A,b.wasi_snapshot_preview1.emscripten_get_now=A}return e(b).then(A=>P(A.instance),y),{}}}).then(b=>{r=b,s()})}(u,h,o,c),g},L.createOnigString=function(l){return new w(l)},L.createOnigScanner=function(l){return new i(l)},L.setDefaultDebugCall=function(l){d=l}},418:S=>{var L=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(_){var I,N,r=(_=_||{})!==void 0?_:{};r.ready=new Promise(function(E,W){I=E,N=W});var d,k={};for(d in r)r.hasOwnProperty(d)&&(k[d]=r[d]);var w,i=!1,T="";function g(E){return r.locateFile?r.locateFile(E,T):T+E}w=function(E){var W;return typeof readbuffer=="function"?new Uint8Array(readbuffer(E)):(e(typeof(W=read(E,"binary"))=="object"),W)},typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var l=r.print||console.log.bind(console),u=r.printErr||console.warn.bind(console);for(d in k)k.hasOwnProperty(d)&&(r[d]=k[d]);k=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var h,o;r.wasmBinary&&(h=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&U("no native wasm support detected");var c=!1;function e(E,W){E||U("Assertion failed: "+W)}var n,s,y,b=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function P(E,W,ne){for(var fe=W+ne,ee=W;E[ee]&&!(ee>=fe);)++ee;if(ee-W>16&&E.subarray&&b)return b.decode(E.subarray(W,ee));for(var oe="";W<ee;){var ce=E[W++];if(128&ce){var me=63&E[W++];if((224&ce)!=192){var _e=63&E[W++];if((ce=(240&ce)==224?(15&ce)<<12|me<<6|_e:(7&ce)<<18|me<<12|_e<<6|63&E[W++])<65536)oe+=String.fromCharCode(ce);else{var We=ce-65536;oe+=String.fromCharCode(55296|We>>10,56320|1023&We)}}else oe+=String.fromCharCode((31&ce)<<6|me)}else oe+=String.fromCharCode(ce)}return oe}function A(E,W){return E?P(s,E,W):""}function O(E,W){return E%W>0&&(E+=W-E%W),E}function q(E){n=E,r.HEAP8=new Int8Array(E),r.HEAP16=new Int16Array(E),r.HEAP32=y=new Int32Array(E),r.HEAPU8=s=new Uint8Array(E),r.HEAPU16=new Uint16Array(E),r.HEAPU32=new Uint32Array(E),r.HEAPF32=new Float32Array(E),r.HEAPF64=new Float64Array(E)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le"),r.INITIAL_MEMORY;var H,K=[],Z=[],he=[],f=[];function a(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)M(r.preRun.shift());Y(K)}function m(){Y(Z)}function x(){Y(he)}function C(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)F(r.postRun.shift());Y(f)}function M(E){K.unshift(E)}function F(E){f.unshift(E)}Z.push({func:function(){Be()}});var G=0,B=null;function D(E){G++,r.monitorRunDependencies&&r.monitorRunDependencies(G)}function z(E){if(G--,r.monitorRunDependencies&&r.monitorRunDependencies(G),G==0&&B){var W=B;B=null,W()}}function U(E){r.onAbort&&r.onAbort(E),u(E+=""),c=!0,E="abort("+E+"). Build with -s ASSERTIONS=1 for more info.";var W=new WebAssembly.RuntimeError(E);throw N(W),W}function R(E,W){return String.prototype.startsWith?E.startsWith(W):E.indexOf(W)===0}r.preloadedImages={},r.preloadedAudios={};var $="data:application/octet-stream;base64,";function V(E){return R(E,$)}var X,Q="onig.wasm";function re(E){try{if(E==Q&&h)return new Uint8Array(h);if(w)return w(E);throw"both async and sync fetching of the wasm failed"}catch(W){U(W)}}function te(){return h||!i||typeof fetch!="function"?Promise.resolve().then(function(){return re(Q)}):fetch(Q,{credentials:"same-origin"}).then(function(E){if(!E.ok)throw"failed to load wasm binary file at '"+Q+"'";return E.arrayBuffer()}).catch(function(){return re(Q)})}function se(){var E={env:Ge,wasi_snapshot_preview1:Ge};function W(ee,oe){var ce=ee.exports;r.asm=ce,q((o=r.asm.memory).buffer),H=r.asm.__indirect_function_table,z()}function ne(ee){W(ee.instance)}function fe(ee){return te().then(function(oe){return WebAssembly.instantiate(oe,E)}).then(ee,function(oe){u("failed to asynchronously prepare wasm: "+oe),U(oe)})}if(D(),r.instantiateWasm)try{return r.instantiateWasm(E,W)}catch(ee){return u("Module.instantiateWasm callback failed with error: "+ee),!1}return(h||typeof WebAssembly.instantiateStreaming!="function"||V(Q)||typeof fetch!="function"?fe(ne):fetch(Q,{credentials:"same-origin"}).then(function(ee){return WebAssembly.instantiateStreaming(ee,E).then(ne,function(oe){return u("wasm streaming compile failed: "+oe),u("falling back to ArrayBuffer instantiation"),fe(ne)})})).catch(N),{}}function Y(E){for(;E.length>0;){var W=E.shift();if(typeof W!="function"){var ne=W.func;typeof ne=="number"?W.arg===void 0?H.get(ne)():H.get(ne)(W.arg):ne(W.arg===void 0?null:W.arg)}else W(r)}}function ie(E,W,ne){s.copyWithin(E,W,W+ne)}function J(){return s.length}function ue(E){try{return o.grow(E-n.byteLength+65535>>>16),q(o.buffer),1}catch{}}function ae(E){var W=J(),ne=2147483648;if(E>ne)return!1;for(var fe=1;fe<=4;fe*=2){var ee=W*(1+.2/fe);if(ee=Math.min(ee,E+100663296),ue(Math.min(ne,O(Math.max(E,ee),65536))))return!0}return!1}V(Q)||(Q=g(Q)),X=typeof dateNow<"u"?dateNow:function(){return performance.now()};var pe={mappings:{},buffers:[null,[],[]],printChar:function(E,W){var ne=pe.buffers[E];W===0||W===10?((E===1?l:u)(P(ne,0)),ne.length=0):ne.push(W)},varargs:void 0,get:function(){return pe.varargs+=4,y[pe.varargs-4>>2]},getStr:function(E){return A(E)},get64:function(E,W){return E}};function Le(E,W,ne,fe){for(var ee=0,oe=0;oe<ne;oe++){for(var ce=y[W+8*oe>>2],me=y[W+(8*oe+4)>>2],_e=0;_e<me;_e++)pe.printChar(E,s[ce+_e]);ee+=me}return y[fe>>2]=ee,0}function ge(E){}var de,Ge={emscripten_get_now:X,emscripten_memcpy_big:ie,emscripten_resize_heap:ae,fd_write:Le,setTempRet0:ge},Be=(se(),r.___wasm_call_ctors=function(){return(Be=r.___wasm_call_ctors=r.asm.__wasm_call_ctors).apply(null,arguments)});function Pe(E){function W(){de||(de=!0,r.calledRun=!0,c||(m(),x(),I(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),C()))}G>0||(a(),G>0||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),W()},1)):W()))}if(r.___errno_location=function(){return(r.___errno_location=r.asm.__errno_location).apply(null,arguments)},r._omalloc=function(){return(r._omalloc=r.asm.omalloc).apply(null,arguments)},r._ofree=function(){return(r._ofree=r.asm.ofree).apply(null,arguments)},r._getLastOnigError=function(){return(r._getLastOnigError=r.asm.getLastOnigError).apply(null,arguments)},r._createOnigScanner=function(){return(r._createOnigScanner=r.asm.createOnigScanner).apply(null,arguments)},r._freeOnigScanner=function(){return(r._freeOnigScanner=r.asm.freeOnigScanner).apply(null,arguments)},r._findNextOnigScannerMatch=function(){return(r._findNextOnigScannerMatch=r.asm.findNextOnigScannerMatch).apply(null,arguments)},r._findNextOnigScannerMatchDbg=function(){return(r._findNextOnigScannerMatchDbg=r.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},r.stackSave=function(){return(r.stackSave=r.asm.stackSave).apply(null,arguments)},r.stackRestore=function(){return(r.stackRestore=r.asm.stackRestore).apply(null,arguments)},r.stackAlloc=function(){return(r.stackAlloc=r.asm.stackAlloc).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.dynCall_jiji).apply(null,arguments)},r.UTF8ToString=A,B=function E(){de||Pe(),de||(B=E)},r.run=Pe,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Pe(),_.ready});S.exports=L}},t={},function S(L){var _=t[L];if(_!==void 0)return _.exports;var I=t[L]={exports:{}};return j[L].call(I.exports,I,I.exports,S),I.exports}(770);var j,t})})(ve);var Ee={exports:{}};(function(p,v){(function(j,t){p.exports=t()})(Ve,function(){return function(j){var t={};function S(L){if(t[L])return t[L].exports;var _=t[L]={i:L,l:!1,exports:{}};return j[L].call(_.exports,_,_.exports,S),_.l=!0,_.exports}return S.m=j,S.c=t,S.d=function(L,_,I){S.o(L,_)||Object.defineProperty(L,_,{enumerable:!0,get:I})},S.r=function(L){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})},S.t=function(L,_){if(1&_&&(L=S(L)),8&_||4&_&&typeof L=="object"&&L&&L.__esModule)return L;var I=Object.create(null);if(S.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:L}),2&_&&typeof L!="string")for(var N in L)S.d(I,N,function(r){return L[r]}.bind(null,N));return I},S.n=function(L){var _=L&&L.__esModule?function(){return L.default}:function(){return L};return S.d(_,"a",_),_},S.o=function(L,_){return Object.prototype.hasOwnProperty.call(L,_)},S.p="",S(S.s=3)}([function(j,t,S){Object.defineProperty(t,"__esModule",{value:!0});var L=S(1),_=S(5),I=S(6),N=S(2),r=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()};t.createGrammar=function(f,a,m,x,C,M){return new e(f,a,m,x,C,M)};var d=function(f){this.scopeName=f};t.FullScopeDependency=d;var k=function(){function f(a,m){this.scopeName=a,this.include=m}return f.prototype.toKey=function(){return this.scopeName+"#"+this.include},f}();t.PartialScopeDependency=k;var w=function(){function f(){this.full=[],this.partial=[],this.visitedRule=new Set,this._seenFull=new Set,this._seenPartial=new Set}return f.prototype.add=function(a){a instanceof d?this._seenFull.has(a.scopeName)||(this._seenFull.add(a.scopeName),this.full.push(a)):this._seenPartial.has(a.toKey())||(this._seenPartial.add(a.toKey()),this.partial.push(a))},f}();function i(f,a,m,x,C){for(var M=0,F=x;M<F.length;M++){var G=F[M];if(!f.visitedRule.has(G)){f.visitedRule.add(G);var B=G.repository?L.mergeObjects({},C,G.repository):C;Array.isArray(G.patterns)&&i(f,a,m,G.patterns,B);var D=G.include;if(D)if(D==="$base"||D===a.scopeName)g(f,a,a);else if(D==="$self"||D===m.scopeName)g(f,a,m);else if(D.charAt(0)==="#")T(f,a,m,D.substring(1),B);else{var z=D.indexOf("#");if(z>=0){var U=D.substring(0,z),R=D.substring(z+1);U===a.scopeName?T(f,a,a,R,B):U===m.scopeName?T(f,a,m,R,B):f.add(new k(U,D.substring(z+1)))}else f.add(new d(D))}}}}function T(f,a,m,x,C){C===void 0&&(C=m.repository),C&&C[x]&&i(f,a,m,[C[x]],C)}function g(f,a,m){if(m.patterns&&Array.isArray(m.patterns)&&i(f,a,m,m.patterns,m.repository),m.injections){var x=[];for(var C in m.injections)x.push(m.injections[C]);i(f,a,m,x,m.repository)}}function l(f,a){if(!f)return!1;if(f===a)return!0;var m=a.length;return f.length>m&&f.substr(0,m)===a&&f[m]==="."}function u(f,a){if(a.length<f.length)return!1;var m=0;return f.every(function(x){for(var C=m;C<a.length;C++)if(l(a[C],x))return m=C+1,!0;return!1})}function h(f,a,m,x,C){for(var M=I.createMatchers(a,u),F=_.RuleFactory.getCompiledRuleId(m,x,C.repository),G=0,B=M;G<B.length;G++){var D=B[G];f.push({matcher:D.matcher,ruleId:F,grammar:C,priority:D.priority})}}t.ScopeDependencyCollector=w,t.collectSpecificDependencies=T,t.collectDependencies=g;var o=function(f,a,m,x){this.scopeName=f,this.languageId=a,this.tokenType=m,this.themeData=x};t.ScopeMetadata=o;var c=function(){function f(a,m,x){if(this._initialLanguage=a,this._themeProvider=m,this._cache=new Map,this._defaultMetaData=new o("",this._initialLanguage,0,[this._themeProvider.getDefaults()]),this._embeddedLanguages=Object.create(null),x)for(var C=Object.keys(x),M=0,F=C.length;M<F;M++){var G=C[M],B=x[G];typeof B=="number"&&B!==0?this._embeddedLanguages[G]=B:console.warn("Invalid embedded language found at scope "+G+": <<"+B+">>")}var D=Object.keys(this._embeddedLanguages).map(function(z){return f._escapeRegExpCharacters(z)});D.length===0?this._embeddedLanguagesRegex=null:(D.sort(),D.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+D.join(")|(")+"))($|\\.)",""))}return f.prototype.onDidChangeTheme=function(){this._cache=new Map,this._defaultMetaData=new o("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},f.prototype.getDefaultMetadata=function(){return this._defaultMetaData},f._escapeRegExpCharacters=function(a){return a.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},f.prototype.getMetadataForScope=function(a){if(a===null)return f._NULL_SCOPE_METADATA;var m=this._cache.get(a);return m||(m=this._doGetMetadataForScope(a),this._cache.set(a,m),m)},f.prototype._doGetMetadataForScope=function(a){var m=this._scopeToLanguage(a),x=this._toStandardTokenType(a),C=this._themeProvider.themeMatch(a);return new o(a,m,x,C)},f.prototype._scopeToLanguage=function(a){if(!a||!this._embeddedLanguagesRegex)return 0;var m=a.match(this._embeddedLanguagesRegex);if(!m)return 0;var x=this._embeddedLanguages[m[1]]||0;return x||0},f.prototype._toStandardTokenType=function(a){var m=a.match(f.STANDARD_TOKEN_TYPE_REGEXP);if(!m)return 0;switch(m[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},f._NULL_SCOPE_METADATA=new o("",0,0,null),f.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,f}(),e=function(){function f(a,m,x,C,M,F){if(this._scopeMetadataProvider=new c(m,M,x),this._onigLib=F,this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=M,this._grammar=s(a,null),this._injections=null,this._tokenTypeMatchers=[],C)for(var G=0,B=Object.keys(C);G<B.length;G++)for(var D=B[G],z=0,U=I.createMatchers(D,u);z<U.length;z++){var R=U[z];this._tokenTypeMatchers.push({matcher:R.matcher,type:C[D]})}}return f.prototype.dispose=function(){for(var a=0,m=this._ruleId2desc;a<m.length;a++){var x=m[a];x&&x.dispose()}},f.prototype.createOnigScanner=function(a){return this._onigLib.createOnigScanner(a)},f.prototype.createOnigString=function(a){return this._onigLib.createOnigString(a)},f.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},f.prototype.getMetadataForScope=function(a){return this._scopeMetadataProvider.getMetadataForScope(a)},f.prototype.getInjections=function(){var a=this;if(this._injections===null){this._injections=[];var m=this._grammar.injections;if(m)for(var x in m)h(this._injections,x,m[x],this,this._grammar);if(this._grammarRepository){var C=this._grammarRepository.injections(this._grammar.scopeName);C&&C.forEach(function(M){var F=a.getExternalGrammar(M);if(F){var G=F.injectionSelector;G&&h(a._injections,G,F,a,F)}})}this._injections.sort(function(M,F){return M.priority-F.priority})}return this._injections},f.prototype.registerRule=function(a){var m=++this._lastRuleId,x=a(m);return this._ruleId2desc[m]=x,x},f.prototype.getRule=function(a){return this._ruleId2desc[a]},f.prototype.getExternalGrammar=function(a,m){if(this._includedGrammars[a])return this._includedGrammars[a];if(this._grammarRepository){var x=this._grammarRepository.lookup(a);if(x)return this._includedGrammars[a]=s(x,m&&m.$base),this._includedGrammars[a]}return null},f.prototype.tokenizeLine=function(a,m){var x=this._tokenize(a,m,!1);return{tokens:x.lineTokens.getResult(x.ruleStack,x.lineLength),ruleStack:x.ruleStack}},f.prototype.tokenizeLine2=function(a,m){var x=this._tokenize(a,m,!0);return{tokens:x.lineTokens.getBinaryResult(x.ruleStack,x.lineLength),ruleStack:x.ruleStack}},f.prototype._tokenize=function(a,m,x){var C;if(this._rootId===-1&&(this._rootId=_.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),m&&m!==H.NULL)C=!1,m.reset();else{C=!0;var M=this._scopeMetadataProvider.getDefaultMetadata(),F=M.themeData[0],G=O.set(0,M.languageId,M.tokenType,F.fontStyle,F.foreground,F.background),B=this.getRule(this._rootId).getName(null,null),D=this._scopeMetadataProvider.getMetadataForScope(B),z=q.mergeMetadata(G,null,D),U=new q(null,B===null?"unknown":B,z);m=new H(null,this._rootId,-1,-1,!1,null,U,U)}a+=`
`;var R=this.createOnigString(a),$=R.content.length,V=new Z(x,a,this._tokenTypeMatchers),X=A(this,R,C,0,m,V,!0);return n(R),{lineLength:$,lineTokens:V,ruleStack:X}},f}();function n(f){typeof f.dispose=="function"&&f.dispose()}function s(f,a){return(f=L.clone(f)).repository=f.repository||{},f.repository.$self={$vscodeTextmateLocation:f.$vscodeTextmateLocation,patterns:f.patterns,name:f.scopeName},f.repository.$base=a||f.repository.$self,f}function y(f,a,m,x,C,M,F){if(M.length!==0){for(var G=a.content,B=Math.min(M.length,F.length),D=[],z=F[0].end,U=0;U<B;U++){var R=M[U];if(R!==null){var $=F[U];if($.length!==0){if($.start>z)break;for(;D.length>0&&D[D.length-1].endPos<=$.start;)C.produceFromScopes(D[D.length-1].scopes,D[D.length-1].endPos),D.pop();if(D.length>0?C.produceFromScopes(D[D.length-1].scopes,$.start):C.produce(x,$.start),R.retokenizeCapturedWithRuleId){var V=R.getName(G,F),X=x.contentNameScopesList.push(f,V),Q=R.getContentName(G,F),re=X.push(f,Q),te=x.push(R.retokenizeCapturedWithRuleId,$.start,-1,!1,null,X,re),se=f.createOnigString(G.substring(0,$.end));A(f,se,m&&$.start===0,$.start,te,C,!1),n(se)}else{var Y=R.getName(G,F);if(Y!==null){var ie=(D.length>0?D[D.length-1].scopes:x.contentNameScopesList).push(f,Y);D.push(new K(ie,$.end))}}}}}for(;D.length>0;)C.produceFromScopes(D[D.length-1].scopes,D[D.length-1].endPos),D.pop()}}function b(f){for(var a=[],m=0,x=f.rules.length;m<x;m++)a.push("   - "+f.rules[m]+": "+f.debugRegExps[m]);return a.join(`
`)}function P(f,a,m,x,C,M){var F=function(U,R,$,V,X,Q){var re=X.getRule(U),te=re.compile(U,X.endRule,$,V===Q),se=0;N.DebugFlags.InDebugMode&&(se=r());var Y=te.scanner.findNextMatchSync(R,V);if(N.DebugFlags.InDebugMode){var ie=r()-se;ie>5&&console.warn("Rule "+re.debugName+" ("+re.id+") matching took "+ie+" against '"+R+"'"),Y&&console.log("matched rule id: "+te.rules[Y.index]+" from "+Y.captureIndices[0].start+" to "+Y.captureIndices[0].end)}return Y?{captureIndices:Y.captureIndices,matchedRuleId:te.rules[Y.index]}:null}(f,a,m,x,C,M),G=f.getInjections();if(G.length===0)return F;var B=function(U,R,$,V,X,Q,re){for(var te,se=Number.MAX_VALUE,Y=null,ie=0,J=Q.contentNameScopesList.generateScopes(),ue=0,ae=U.length;ue<ae;ue++){var pe=U[ue];if(pe.matcher(J)){var Le=R.getRule(pe.ruleId).compile(R,null,V,X===re),ge=Le.scanner.findNextMatchSync($,X);if(N.DebugFlags.InDebugMode&&(console.log("  scanning for injections"),console.log(b(Le))),ge){var de=ge.captureIndices[0].start;if(!(de>=se)&&(se=de,Y=ge.captureIndices,te=Le.rules[ge.index],ie=pe.priority,se===X))break}}}return Y?{priorityMatch:ie===-1,captureIndices:Y,matchedRuleId:te}:null}(G,f,a,m,x,C,M);if(!B)return F;if(!F)return B;var D=F.captureIndices[0].start,z=B.captureIndices[0].start;return z<D||B.priorityMatch&&z===D?B:F}function A(f,a,m,x,C,M,F){var G=a.content.length,B=!1,D=-1;if(F){var z=function(R,$,V,X,Q,re){for(var te=Q.beginRuleCapturedEOL?0:-1,se=[],Y=Q;Y;Y=Y.pop()){var ie=Y.getRule(R);ie instanceof _.BeginWhileRule&&se.push({rule:ie,stack:Y})}for(var J=se.pop();J;J=se.pop()){var ue=J.rule.compileWhile(R,J.stack.endRule,V,te===X),ae=ue.scanner.findNextMatchSync($,X);if(N.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(b(ue))),!ae){N.DebugFlags.InDebugMode&&console.log("  popping "+J.rule.debugName+" - "+J.rule.debugWhileRegExp),Q=J.stack.pop();break}if(ue.rules[ae.index]!==-2){Q=J.stack.pop();break}ae.captureIndices&&ae.captureIndices.length&&(re.produce(J.stack,ae.captureIndices[0].start),y(R,$,V,J.stack,re,J.rule.whileCaptures,ae.captureIndices),re.produce(J.stack,ae.captureIndices[0].end),te=ae.captureIndices[0].end,ae.captureIndices[0].end>X&&(X=ae.captureIndices[0].end,V=!1))}return{stack:Q,linePos:X,anchorPosition:te,isFirstLine:V}}(f,a,m,x,C,M);C=z.stack,x=z.linePos,m=z.isFirstLine,D=z.anchorPosition}for(;!B;)U();function U(){N.DebugFlags.InDebugMode&&(console.log(""),console.log("@@scanNext "+x+": |"+a.content.substr(x).replace(/\n$/,"\\n")+"|"));var R=P(f,a,m,x,C,D);if(!R)return N.DebugFlags.InDebugMode&&console.log("  no more matches."),M.produce(C,G),void(B=!0);var $=R.captureIndices,V=R.matchedRuleId,X=!!($&&$.length>0)&&$[0].end>x;if(V===-1){var Q=C.getRule(f);N.DebugFlags.InDebugMode&&console.log("  popping "+Q.debugName+" - "+Q.debugEndRegExp),M.produce(C,$[0].start),C=C.setContentNameScopesList(C.nameScopesList),y(f,a,m,C,M,Q.endCaptures,$),M.produce(C,$[0].end);var re=C;if(C=C.pop(),D=re.getAnchorPos(),!X&&re.getEnterPos()===x)return N.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),C=re,M.produce(C,G),void(B=!0)}else{var te=f.getRule(V);M.produce(C,$[0].start);var se=C,Y=te.getName(a.content,$),ie=C.contentNameScopesList.push(f,Y);if(C=C.push(V,x,D,$[0].end===G,null,ie,ie),te instanceof _.BeginEndRule){var J=te;N.DebugFlags.InDebugMode&&console.log("  pushing "+J.debugName+" - "+J.debugBeginRegExp),y(f,a,m,C,M,J.beginCaptures,$),M.produce(C,$[0].end),D=$[0].end;var ue=J.getContentName(a.content,$),ae=ie.push(f,ue);if(C=C.setContentNameScopesList(ae),J.endHasBackReferences&&(C=C.setEndRule(J.getEndWithResolvedBackReferences(a.content,$))),!X&&se.hasSameRuleAs(C))return N.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),C=C.pop(),M.produce(C,G),void(B=!0)}else if(te instanceof _.BeginWhileRule){if(J=te,N.DebugFlags.InDebugMode&&console.log("  pushing "+J.debugName),y(f,a,m,C,M,J.beginCaptures,$),M.produce(C,$[0].end),D=$[0].end,ue=J.getContentName(a.content,$),ae=ie.push(f,ue),C=C.setContentNameScopesList(ae),J.whileHasBackReferences&&(C=C.setEndRule(J.getWhileWithResolvedBackReferences(a.content,$))),!X&&se.hasSameRuleAs(C))return N.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),C=C.pop(),M.produce(C,G),void(B=!0)}else{var pe=te;if(N.DebugFlags.InDebugMode&&console.log("  matched "+pe.debugName+" - "+pe.debugMatchRegExp),y(f,a,m,C,M,pe.captures,$),M.produce(C,$[0].end),C=C.pop(),!X)return N.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),C=C.safePop(),M.produce(C,G),void(B=!0)}}$[0].end>x&&(x=$[0].end,m=!1)}return C}t.Grammar=e;var O=function(){function f(){}return f.toBinaryStr=function(a){for(var m=a.toString(2);m.length<32;)m="0"+m;return m},f.printMetadata=function(a){var m=f.getLanguageId(a),x=f.getTokenType(a),C=f.getFontStyle(a),M=f.getForeground(a),F=f.getBackground(a);console.log({languageId:m,tokenType:x,fontStyle:C,foreground:M,background:F})},f.getLanguageId=function(a){return(255&a)>>>0},f.getTokenType=function(a){return(1792&a)>>>8},f.getFontStyle=function(a){return(14336&a)>>>11},f.getForeground=function(a){return(8372224&a)>>>14},f.getBackground=function(a){return(4286578688&a)>>>23},f.set=function(a,m,x,C,M,F){var G=f.getLanguageId(a),B=f.getTokenType(a),D=f.getFontStyle(a),z=f.getForeground(a),U=f.getBackground(a);return m!==0&&(G=m),x!==0&&(B=x===8?0:x),C!==-1&&(D=C),M!==0&&(z=M),F!==0&&(U=F),(G<<0|B<<8|D<<11|z<<14|U<<23)>>>0},f}();t.StackElementMetadata=O;var q=function(){function f(a,m,x){this.parent=a,this.scope=m,this.metadata=x}return f._equals=function(a,m){for(;;){if(a===m||!a&&!m)return!0;if(!a||!m||a.scope!==m.scope||a.metadata!==m.metadata)return!1;a=a.parent,m=m.parent}},f.prototype.equals=function(a){return f._equals(this,a)},f._matchesScope=function(a,m,x){return m===a||a.substring(0,x.length)===x},f._matches=function(a,m){if(m===null)return!0;for(var x=m.length,C=0,M=m[C],F=M+".";a;){if(this._matchesScope(a.scope,M,F)){if(++C===x)return!0;F=(M=m[C])+"."}a=a.parent}return!1},f.mergeMetadata=function(a,m,x){if(x===null)return a;var C=-1,M=0,F=0;if(x.themeData!==null)for(var G=0,B=x.themeData.length;G<B;G++){var D=x.themeData[G];if(this._matches(m,D.parentScopes)){C=D.fontStyle,M=D.foreground,F=D.background;break}}return O.set(a,x.languageId,x.tokenType,C,M,F)},f._push=function(a,m,x){for(var C=0,M=x.length;C<M;C++){var F=x[C],G=m.getMetadataForScope(F),B=f.mergeMetadata(a.metadata,a,G);a=new f(a,F,B)}return a},f.prototype.push=function(a,m){return m===null?this:m.indexOf(" ")>=0?f._push(this,a,m.split(/ /g)):f._push(this,a,[m])},f._generateScopes=function(a){for(var m=[],x=0;a;)m[x++]=a.scope,a=a.parent;return m.reverse(),m},f.prototype.generateScopes=function(){return f._generateScopes(this)},f}();t.ScopeListElement=q;var H=function(){function f(a,m,x,C,M,F,G,B){this.parent=a,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=m,this._enterPos=x,this._anchorPos=C,this.beginRuleCapturedEOL=M,this.endRule=F,this.nameScopesList=G,this.contentNameScopesList=B}return f._structuralEquals=function(a,m){for(;;){if(a===m||!a&&!m)return!0;if(!a||!m||a.depth!==m.depth||a.ruleId!==m.ruleId||a.endRule!==m.endRule)return!1;a=a.parent,m=m.parent}},f._equals=function(a,m){return a===m||!!this._structuralEquals(a,m)&&a.contentNameScopesList.equals(m.contentNameScopesList)},f.prototype.clone=function(){return this},f.prototype.equals=function(a){return a!==null&&f._equals(this,a)},f._reset=function(a){for(;a;)a._enterPos=-1,a._anchorPos=-1,a=a.parent},f.prototype.reset=function(){f._reset(this)},f.prototype.pop=function(){return this.parent},f.prototype.safePop=function(){return this.parent?this.parent:this},f.prototype.push=function(a,m,x,C,M,F,G){return new f(this,a,m,x,C,M,F,G)},f.prototype.getEnterPos=function(){return this._enterPos},f.prototype.getAnchorPos=function(){return this._anchorPos},f.prototype.getRule=function(a){return a.getRule(this.ruleId)},f.prototype._writeString=function(a,m){return this.parent&&(m=this.parent._writeString(a,m)),a[m++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",m},f.prototype.toString=function(){var a=[];return this._writeString(a,0),"["+a.join(",")+"]"},f.prototype.setContentNameScopesList=function(a){return this.contentNameScopesList===a?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,a)},f.prototype.setEndRule=function(a){return this.endRule===a?this:new f(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,a,this.nameScopesList,this.contentNameScopesList)},f.prototype.hasSameRuleAs=function(a){return this.ruleId===a.ruleId},f.NULL=new f(null,0,0,0,!1,null,null,null),f}();t.StackElement=H;var K=function(f,a){this.scopes=f,this.endPos=a};t.LocalStackElement=K;var Z=function(){function f(a,m,x){this._emitBinaryTokens=a,this._tokenTypeOverrides=x,N.DebugFlags.InDebugMode?this._lineText=m:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}return f.prototype.produce=function(a,m){this.produceFromScopes(a.contentNameScopesList,m)},f.prototype.produceFromScopes=function(a,m){if(!(this._lastTokenEndIndex>=m)){if(this._emitBinaryTokens){for(var x=a.metadata,C=0,M=this._tokenTypeOverrides;C<M.length;C++){var F=M[C];F.matcher(a.generateScopes())&&(x=O.set(x,0,he(F.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===x||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(x)),void(this._lastTokenEndIndex=m)}var G=a.generateScopes();if(N.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,m).replace(/\n$/,"\\n")+"|");for(var B=0;B<G.length;B++)console.log("      * "+G[B])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:m,scopes:G}),this._lastTokenEndIndex=m}},f.prototype.getResult=function(a,m){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===m-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(a,m),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},f.prototype.getBinaryResult=function(a,m){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===m-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(a,m),this._binaryTokens[this._binaryTokens.length-2]=0);for(var x=new Uint32Array(this._binaryTokens.length),C=0,M=this._binaryTokens.length;C<M;C++)x[C]=this._binaryTokens[C];return x},f}();function he(f){switch(f){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}},function(j,t,S){function L(N){return Array.isArray(N)?function(r){for(var d=[],k=0,w=r.length;k<w;k++)d[k]=L(r[k]);return d}(N):typeof N=="object"?function(r){var d={};for(var k in r)d[k]=L(r[k]);return d}(N):N}Object.defineProperty(t,"__esModule",{value:!0}),t.clone=function(N){return L(N)},t.mergeObjects=function(N){for(var r=[],d=1;d<arguments.length;d++)r[d-1]=arguments[d];return r.forEach(function(k){for(var w in k)N[w]=k[w]}),N},t.basename=function N(r){var d=~r.lastIndexOf("/")||~r.lastIndexOf("\\");return d===0?r:~d==r.length-1?N(r.substring(0,r.length-1)):r.substr(1+~d)};var _=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,I=function(){function N(){}return N.hasCaptures=function(r){return r!==null&&_.test(r)},N.replaceCaptures=function(r,d,k){return r.replace(_,function(w,i,T,g){var l=k[parseInt(i||T,10)];if(!l)return w;for(var u=d.substring(l.start,l.end);u[0]===".";)u=u.substring(1);switch(g){case"downcase":return u.toLowerCase();case"upcase":return u.toUpperCase();default:return u}})},N}();t.RegexSource=I},function(j,t,S){(function(L){Object.defineProperty(t,"__esModule",{value:!0}),t.DebugFlags={InDebugMode:L!==void 0&&!!L.env.VSCODE_TEXTMATE_DEBUG}}).call(this,S(7))},function(j,t,S){var L=this&&this.__awaiter||function(w,i,T,g){return new(T||(T=Promise))(function(l,u){function h(e){try{c(g.next(e))}catch(n){u(n)}}function o(e){try{c(g.throw(e))}catch(n){u(n)}}function c(e){var n;e.done?l(e.value):(n=e.value,n instanceof T?n:new T(function(s){s(n)})).then(h,o)}c((g=g.apply(w,i||[])).next())})},_=this&&this.__generator||function(w,i){var T,g,l,u,h={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function o(c){return function(e){return function(n){if(T)throw new TypeError("Generator is already executing.");for(;h;)try{if(T=1,g&&(l=2&n[0]?g.return:n[0]?g.throw||((l=g.return)&&l.call(g),0):g.next)&&!(l=l.call(g,n[1])).done)return l;switch(g=0,l&&(n=[2&n[0],l.value]),n[0]){case 0:case 1:l=n;break;case 4:return h.label++,{value:n[1],done:!1};case 5:h.label++,g=n[1],n=[0];continue;case 7:n=h.ops.pop(),h.trys.pop();continue;default:if(l=h.trys,!((l=l.length>0&&l[l.length-1])||n[0]!==6&&n[0]!==2)){h=0;continue}if(n[0]===3&&(!l||n[1]>l[0]&&n[1]<l[3])){h.label=n[1];break}if(n[0]===6&&h.label<l[1]){h.label=l[1],l=n;break}if(l&&h.label<l[2]){h.label=l[2],h.ops.push(n);break}l[2]&&h.ops.pop(),h.trys.pop();continue}n=i.call(w,h)}catch(s){n=[6,s],g=0}finally{T=l=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([c,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var I=S(4),N=S(8),r=S(11),d=S(0),k=function(){function w(i){this._options=i,this._syncRegistry=new I.SyncRegistry(r.Theme.createFromRawTheme(i.theme,i.colorMap),i.onigLib),this._ensureGrammarCache=new Map}return w.prototype.dispose=function(){this._syncRegistry.dispose()},w.prototype.setTheme=function(i,T){this._syncRegistry.setTheme(r.Theme.createFromRawTheme(i,T))},w.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},w.prototype.loadGrammarWithEmbeddedLanguages=function(i,T,g){return this.loadGrammarWithConfiguration(i,T,{embeddedLanguages:g})},w.prototype.loadGrammarWithConfiguration=function(i,T,g){return this._loadGrammar(i,T,g.embeddedLanguages,g.tokenTypes)},w.prototype.loadGrammar=function(i){return this._loadGrammar(i,0,null,null)},w.prototype._doLoadSingleGrammar=function(i){return L(this,void 0,void 0,function(){var T,g;return _(this,function(l){switch(l.label){case 0:return[4,this._options.loadGrammar(i)];case 1:return(T=l.sent())&&(g=typeof this._options.getInjections=="function"?this._options.getInjections(i):void 0,this._syncRegistry.addGrammar(T,g)),[2]}})})},w.prototype._loadSingleGrammar=function(i){return L(this,void 0,void 0,function(){return _(this,function(T){return this._ensureGrammarCache.has(i)||this._ensureGrammarCache.set(i,this._doLoadSingleGrammar(i)),[2,this._ensureGrammarCache.get(i)]})})},w.prototype._collectDependenciesForDep=function(i,T,g){var l=this._syncRegistry.lookup(g.scopeName);if(l){g instanceof d.FullScopeDependency?d.collectDependencies(T,this._syncRegistry.lookup(i),l):d.collectSpecificDependencies(T,this._syncRegistry.lookup(i),l,g.include);var u=this._syncRegistry.injections(g.scopeName);if(u)for(var h=0,o=u;h<o.length;h++){var c=o[h];T.add(new d.FullScopeDependency(c))}}else if(g.scopeName===i)throw new Error("No grammar provided for <"+i+">")},w.prototype._loadGrammar=function(i,T,g,l){return L(this,void 0,void 0,function(){var u,h,o,c,e,n,s,y,b,P,A,O,q=this;return _(this,function(H){switch(H.label){case 0:u=new Set,h=new Set,u.add(i),o=[new d.FullScopeDependency(i)],H.label=1;case 1:return o.length>0?(c=o,o=[],[4,Promise.all(c.map(function(K){return q._loadSingleGrammar(K.scopeName)}))]):[3,3];case 2:for(H.sent(),e=new d.ScopeDependencyCollector,n=0,s=c;n<s.length;n++)O=s[n],this._collectDependenciesForDep(i,e,O);for(y=0,b=e.full;y<b.length;y++)O=b[y],u.has(O.scopeName)||(u.add(O.scopeName),o.push(O));for(P=0,A=e.partial;P<A.length;P++)O=A[P],u.has(O.scopeName)||h.has(O.toKey())||(h.add(O.toKey()),o.push(O));return[3,1];case 3:return[2,this.grammarForScopeName(i,T,g,l)]}})})},w.prototype.addGrammar=function(i,T,g,l){return T===void 0&&(T=[]),g===void 0&&(g=0),l===void 0&&(l=null),L(this,void 0,void 0,function(){return _(this,function(u){switch(u.label){case 0:return this._syncRegistry.addGrammar(i,T),[4,this.grammarForScopeName(i.scopeName,g,l)];case 1:return[2,u.sent()]}})})},w.prototype.grammarForScopeName=function(i,T,g,l){return T===void 0&&(T=0),g===void 0&&(g=null),l===void 0&&(l=null),this._syncRegistry.grammarForScopeName(i,T,g,l)},w}();t.Registry=k,t.INITIAL=d.StackElement.NULL,t.parseRawGrammar=N.parseRawGrammar},function(j,t,S){var L=this&&this.__awaiter||function(r,d,k,w){return new(k||(k=Promise))(function(i,T){function g(h){try{u(w.next(h))}catch(o){T(o)}}function l(h){try{u(w.throw(h))}catch(o){T(o)}}function u(h){var o;h.done?i(h.value):(o=h.value,o instanceof k?o:new k(function(c){c(o)})).then(g,l)}u((w=w.apply(r,d||[])).next())})},_=this&&this.__generator||function(r,d){var k,w,i,T,g={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return T={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function l(u){return function(h){return function(o){if(k)throw new TypeError("Generator is already executing.");for(;g;)try{if(k=1,w&&(i=2&o[0]?w.return:o[0]?w.throw||((i=w.return)&&i.call(w),0):w.next)&&!(i=i.call(w,o[1])).done)return i;switch(w=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return g.label++,{value:o[1],done:!1};case 5:g.label++,w=o[1],o=[0];continue;case 7:o=g.ops.pop(),g.trys.pop();continue;default:if(i=g.trys,!((i=i.length>0&&i[i.length-1])||o[0]!==6&&o[0]!==2)){g=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){g.label=o[1];break}if(o[0]===6&&g.label<i[1]){g.label=i[1],i=o;break}if(i&&g.label<i[2]){g.label=i[2],g.ops.push(o);break}i[2]&&g.ops.pop(),g.trys.pop();continue}o=d.call(r,g)}catch(c){o=[6,c],w=0}finally{k=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([u,h])}}};Object.defineProperty(t,"__esModule",{value:!0});var I=S(0),N=function(){function r(d,k){this._theme=d,this._grammars={},this._rawGrammars={},this._injectionGrammars={},this._onigLibPromise=k}return r.prototype.dispose=function(){for(var d in this._grammars)this._grammars.hasOwnProperty(d)&&this._grammars[d].dispose()},r.prototype.setTheme=function(d){var k=this;this._theme=d,Object.keys(this._grammars).forEach(function(w){k._grammars[w].onDidChangeTheme()})},r.prototype.getColorMap=function(){return this._theme.getColorMap()},r.prototype.addGrammar=function(d,k){this._rawGrammars[d.scopeName]=d,k&&(this._injectionGrammars[d.scopeName]=k)},r.prototype.lookup=function(d){return this._rawGrammars[d]},r.prototype.injections=function(d){return this._injectionGrammars[d]},r.prototype.getDefaults=function(){return this._theme.getDefaults()},r.prototype.themeMatch=function(d){return this._theme.match(d)},r.prototype.grammarForScopeName=function(d,k,w,i){return L(this,void 0,void 0,function(){var T,g,l,u,h;return _(this,function(o){switch(o.label){case 0:return this._grammars[d]?[3,2]:(T=this._rawGrammars[d])?(g=this._grammars,l=d,u=I.createGrammar,h=[T,k,w,i,this],[4,this._onigLibPromise]):[2,null];case 1:g[l]=u.apply(void 0,h.concat([o.sent()])),o.label=2;case 2:return[2,this._grammars[d]]}})})},r}();t.SyncRegistry=N},function(j,t,S){var L,_=this&&this.__extends||(L=function(c,e){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var y in s)s.hasOwnProperty(y)&&(n[y]=s[y])})(c,e)},function(c,e){function n(){this.constructor=c}L(c,e),c.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var I=S(1),N=/\\(\d+)/,r=/\\(\d+)/g,d=function(){function c(e,n,s){this.debugRegExps=n,this.rules=s,this.scanner=e.createOnigScanner(n)}return c.prototype.dispose=function(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()},c}();t.CompiledRule=d;var k=function(){function c(e,n,s,y){this.$location=e,this.id=n,this._name=s||null,this._nameIsCapturing=I.RegexSource.hasCaptures(this._name),this._contentName=y||null,this._contentNameIsCapturing=I.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(c.prototype,"debugName",{get:function(){var e=this.$location?I.basename(this.$location.filename)+":"+this.$location.line:"unknown";return this.constructor.name+"#"+this.id+" @ "+e},enumerable:!0,configurable:!0}),c.prototype.getName=function(e,n){return this._nameIsCapturing&&this._name!==null&&e!==null&&n!==null?I.RegexSource.replaceCaptures(this._name,e,n):this._name},c.prototype.getContentName=function(e,n){return this._contentNameIsCapturing&&this._contentName!==null?I.RegexSource.replaceCaptures(this._contentName,e,n):this._contentName},c}();t.Rule=k;var w=function(c){function e(n,s,y,b,P){var A=c.call(this,n,s,y,b)||this;return A.retokenizeCapturedWithRuleId=P,A}return _(e,c),e.prototype.dispose=function(){},e.prototype.collectPatternsRecursive=function(n,s,y){throw new Error("Not supported!")},e.prototype.compile=function(n,s,y,b){throw new Error("Not supported!")},e}(k);t.CaptureRule=w;var i=function(){function c(e,n,s){if(s===void 0&&(s=!0),s)if(e){for(var y=e.length,b=0,P=[],A=!1,O=0;O<y;O++)if(e.charAt(O)==="\\"&&O+1<y){var q=e.charAt(O+1);q==="z"?(P.push(e.substring(b,O)),P.push("$(?!\\n)(?<!\\n)"),b=O+2):q!=="A"&&q!=="G"||(A=!0),O++}this.hasAnchor=A,b===0?this.source=e:(P.push(e.substring(b,y)),this.source=P.join(""))}else this.hasAnchor=!1,this.source=e;else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,this.hasBackReferences=N.test(this.source)}return c.prototype.clone=function(){return new c(this.source,this.ruleId,!0)},c.prototype.setSource=function(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},c.prototype.resolveBackReferences=function(e,n){var s=n.map(function(y){return e.substring(y.start,y.end)});return r.lastIndex=0,this.source.replace(r,function(y,b){return(s[parseInt(b,10)]||"").replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")})},c.prototype._buildAnchorCache=function(){var e,n,s,y,b=[],P=[],A=[],O=[];for(e=0,n=this.source.length;e<n;e++)s=this.source.charAt(e),b[e]=s,P[e]=s,A[e]=s,O[e]=s,s==="\\"&&e+1<n&&((y=this.source.charAt(e+1))==="A"?(b[e+1]="\uFFFF",P[e+1]="\uFFFF",A[e+1]="A",O[e+1]="A"):y==="G"?(b[e+1]="\uFFFF",P[e+1]="G",A[e+1]="\uFFFF",O[e+1]="G"):(b[e+1]=y,P[e+1]=y,A[e+1]=y,O[e+1]=y),e++);return{A0_G0:b.join(""),A0_G1:P.join(""),A1_G0:A.join(""),A1_G1:O.join("")}},c.prototype.resolveAnchors=function(e,n){return this.hasAnchor&&this._anchorCache?e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},c}();t.RegExpSource=i;var T=function(){function c(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return c.prototype.dispose=function(){this._disposeCaches()},c.prototype._disposeCaches=function(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)},c.prototype.push=function(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},c.prototype.unshift=function(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},c.prototype.length=function(){return this._items.length},c.prototype.setSource=function(e,n){this._items[e].source!==n&&(this._disposeCaches(),this._items[e].setSource(n))},c.prototype.compile=function(e,n,s){if(this._hasAnchors)return n?s?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,n,s)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,n,s)),this._anchorCache.A1_G0):s?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,n,s)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,n,s)),this._anchorCache.A0_G0);if(!this._cached){var y=this._items.map(function(b){return b.source});this._cached=new d(e,y,this._items.map(function(b){return b.ruleId}))}return this._cached},c.prototype._resolveAnchors=function(e,n,s){var y=this._items.map(function(b){return b.resolveAnchors(n,s)});return new d(e,y,this._items.map(function(b){return b.ruleId}))},c}();t.RegExpSourceList=T;var g=function(c){function e(n,s,y,b,P){var A=c.call(this,n,s,y,null)||this;return A._match=new i(b,A.id),A.captures=P,A._cachedCompiledPatterns=null,A}return _(e,c),e.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(e.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),e.prototype.collectPatternsRecursive=function(n,s,y){s.push(this._match)},e.prototype.compile=function(n,s,y,b){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new T,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(n,y,b)},e}(k);t.MatchRule=g;var l=function(c){function e(n,s,y,b,P){var A=c.call(this,n,s,y,b)||this;return A.patterns=P.patterns,A.hasMissingPatterns=P.hasMissingPatterns,A._cachedCompiledPatterns=null,A}return _(e,c),e.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},e.prototype.collectPatternsRecursive=function(n,s,y){var b,P;for(b=0,P=this.patterns.length;b<P;b++)n.getRule(this.patterns[b]).collectPatternsRecursive(n,s,!1)},e.prototype.compile=function(n,s,y,b){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new T,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(n,y,b)},e}(k);t.IncludeOnlyRule=l;var u=function(c){function e(n,s,y,b,P,A,O,q,H,K){var Z=c.call(this,n,s,y,b)||this;return Z._begin=new i(P,Z.id),Z.beginCaptures=A,Z._end=new i(O||"\uFFFF",-1),Z.endHasBackReferences=Z._end.hasBackReferences,Z.endCaptures=q,Z.applyEndPatternLast=H||!1,Z.patterns=K.patterns,Z.hasMissingPatterns=K.hasMissingPatterns,Z._cachedCompiledPatterns=null,Z}return _(e,c),e.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(e.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),e.prototype.getEndWithResolvedBackReferences=function(n,s){return this._end.resolveBackReferences(n,s)},e.prototype.collectPatternsRecursive=function(n,s,y){if(y){var b,P=void 0;for(P=0,b=this.patterns.length;P<b;P++)n.getRule(this.patterns[P]).collectPatternsRecursive(n,s,!1)}else s.push(this._begin)},e.prototype.compile=function(n,s,y,b){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new T,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,s):this._cachedCompiledPatterns.setSource(0,s)),this._cachedCompiledPatterns.compile(n,y,b)},e}(k);t.BeginEndRule=u;var h=function(c){function e(n,s,y,b,P,A,O,q,H){var K=c.call(this,n,s,y,b)||this;return K._begin=new i(P,K.id),K.beginCaptures=A,K.whileCaptures=q,K._while=new i(O,-2),K.whileHasBackReferences=K._while.hasBackReferences,K.patterns=H.patterns,K.hasMissingPatterns=H.hasMissingPatterns,K._cachedCompiledPatterns=null,K._cachedCompiledWhilePatterns=null,K}return _(e,c),e.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)},Object.defineProperty(e.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debugWhileRegExp",{get:function(){return""+this._while.source},enumerable:!0,configurable:!0}),e.prototype.getWhileWithResolvedBackReferences=function(n,s){return this._while.resolveBackReferences(n,s)},e.prototype.collectPatternsRecursive=function(n,s,y){if(y){var b,P=void 0;for(P=0,b=this.patterns.length;P<b;P++)n.getRule(this.patterns[P]).collectPatternsRecursive(n,s,!1)}else s.push(this._begin)},e.prototype.compile=function(n,s,y,b){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new T,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(n,y,b)},e.prototype.compileWhile=function(n,s,y,b){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new T,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,s||"\uFFFF"),this._cachedCompiledWhilePatterns.compile(n,y,b)},e}(k);t.BeginWhileRule=h;var o=function(){function c(){}return c.createCaptureRule=function(e,n,s,y,b){return e.registerRule(function(P){return new w(n,P,s,y,b)})},c.getCompiledRuleId=function(e,n,s){return e.id||n.registerRule(function(y){if(e.id=y,e.match)return new g(e.$vscodeTextmateLocation,e.id,e.name,e.match,c._compileCaptures(e.captures,n,s));if(e.begin===void 0){e.repository&&(s=I.mergeObjects({},s,e.repository));var b=e.patterns;return b===void 0&&e.include&&(b=[{include:e.include}]),new l(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,c._compilePatterns(b,n,s))}return e.while?new h(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,c._compileCaptures(e.beginCaptures||e.captures,n,s),e.while,c._compileCaptures(e.whileCaptures||e.captures,n,s),c._compilePatterns(e.patterns,n,s)):new u(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,c._compileCaptures(e.beginCaptures||e.captures,n,s),e.end,c._compileCaptures(e.endCaptures||e.captures,n,s),e.applyEndPatternLast,c._compilePatterns(e.patterns,n,s))}),e.id},c._compileCaptures=function(e,n,s){var y=[];if(e){var b=0;for(var P in e)P!=="$vscodeTextmateLocation"&&(O=parseInt(P,10))>b&&(b=O);for(var A=0;A<=b;A++)y[A]=null;for(var P in e)if(P!=="$vscodeTextmateLocation"){var O=parseInt(P,10),q=0;e[P].patterns&&(q=c.getCompiledRuleId(e[P],n,s)),y[O]=c.createCaptureRule(n,e[P].$vscodeTextmateLocation,e[P].name,e[P].contentName,q)}}return y},c._compilePatterns=function(e,n,s){var y=[];if(e)for(var b=0,P=e.length;b<P;b++){var A=e[b],O=-1;if(A.include)if(A.include.charAt(0)==="#"){var q=s[A.include.substr(1)];q&&(O=c.getCompiledRuleId(q,n,s))}else if(A.include==="$base"||A.include==="$self")O=c.getCompiledRuleId(s[A.include],n,s);else{var H=null,K=null,Z=A.include.indexOf("#");Z>=0?(H=A.include.substring(0,Z),K=A.include.substring(Z+1)):H=A.include;var he=n.getExternalGrammar(H,s);if(he)if(K){var f=he.repository[K];f&&(O=c.getCompiledRuleId(f,n,he.repository))}else O=c.getCompiledRuleId(he.repository.$self,n,he.repository)}else O=c.getCompiledRuleId(A,n,s);if(O!==-1){var a=n.getRule(O),m=!1;if((a instanceof l||a instanceof u||a instanceof h)&&a.hasMissingPatterns&&a.patterns.length===0&&(m=!0),m)continue;y.push(O)}}return{patterns:y,hasMissingPatterns:(e?e.length:0)!==y.length}},c}();t.RuleFactory=o},function(j,t,S){function L(_){return!!_&&!!_.match(/[\w\.:]+/)}Object.defineProperty(t,"__esModule",{value:!0}),t.createMatchers=function(_,I){for(var N,r,d,k=[],w=(d=(r=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(N=_),{next:function(){if(!d)return null;var h=d[0];return d=r.exec(N),h}}),i=w.next();i!==null;){var T=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":T=1;break;case"L":T=-1;break;default:console.log("Unknown priority "+i+" in scope selector")}i=w.next()}var g=u();if(k.push({matcher:g,priority:T}),i!==",")break;i=w.next()}return k;function l(){if(i==="-"){i=w.next();var h=l();return function(e){return!!h&&!h(e)}}if(i==="("){i=w.next();var o=function(){for(var e=[],n=u();n&&(e.push(n),i==="|"||i===",");){do i=w.next();while(i==="|"||i===",");n=u()}return function(s){return e.some(function(y){return y(s)})}}();return i===")"&&(i=w.next()),o}if(L(i)){var c=[];do c.push(i),i=w.next();while(L(i));return function(e){return I(c,e)}}return null}function u(){for(var h=[],o=l();o;)h.push(o),o=l();return function(c){return h.every(function(e){return e(c)})}}}},function(j,t){var S,L,_=j.exports={};function I(){throw new Error("setTimeout has not been defined")}function N(){throw new Error("clearTimeout has not been defined")}function r(h){if(S===setTimeout)return setTimeout(h,0);if((S===I||!S)&&setTimeout)return S=setTimeout,setTimeout(h,0);try{return S(h,0)}catch{try{return S.call(null,h,0)}catch{return S.call(this,h,0)}}}(function(){try{S=typeof setTimeout=="function"?setTimeout:I}catch{S=I}try{L=typeof clearTimeout=="function"?clearTimeout:N}catch{L=N}})();var d,k=[],w=!1,i=-1;function T(){w&&d&&(w=!1,d.length?k=d.concat(k):i=-1,k.length&&g())}function g(){if(!w){var h=r(T);w=!0;for(var o=k.length;o;){for(d=k,k=[];++i<o;)d&&d[i].run();i=-1,o=k.length}d=null,w=!1,function(c){if(L===clearTimeout)return clearTimeout(c);if((L===N||!L)&&clearTimeout)return L=clearTimeout,clearTimeout(c);try{L(c)}catch{try{return L.call(null,c)}catch{return L.call(this,c)}}}(h)}}function l(h,o){this.fun=h,this.array=o}function u(){}_.nextTick=function(h){var o=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)o[c-1]=arguments[c];k.push(new l(h,o)),k.length!==1||w||r(g)},l.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={},_.on=u,_.addListener=u,_.once=u,_.off=u,_.removeListener=u,_.removeAllListeners=u,_.emit=u,_.prependListener=u,_.prependOnceListener=u,_.listeners=function(h){return[]},_.binding=function(h){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(h){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}},function(j,t,S){Object.defineProperty(t,"__esModule",{value:!0});var L=S(9),_=S(2),I=S(10);t.parseRawGrammar=function(N,r){return r===void 0&&(r=null),r!==null&&/\.json$/.test(r)?function(d,k){return _.DebugFlags.InDebugMode?I.parse(d,k,!0):JSON.parse(d)}(N,r):function(d,k){return _.DebugFlags.InDebugMode?L.parseWithLocation(d,k,"$vscodeTextmateLocation"):L.parse(d)}(N,r)}},function(j,t,S){function L(_,I,N){var r=_.length,d=0,k=1,w=0;function i(R){if(N===null)d+=R;else for(;R>0;)_.charCodeAt(d)===10?(d++,k++,w=0):(d++,w++),R--}function T(R){N===null?d=R:i(R-d)}function g(){for(;d<r;){var R=_.charCodeAt(d);if(R!==32&&R!==9&&R!==13&&R!==10)break;i(1)}}function l(R){return _.substr(d,R.length)===R&&(i(R.length),!0)}function u(R){var $=_.indexOf(R,d);T($!==-1?$+R.length:r)}function h(R){var $=_.indexOf(R,d);if($!==-1){var V=_.substring(d,$);return T($+R.length),V}return V=_.substr(d),T(r),V}r>0&&_.charCodeAt(0)===65279&&(d=1);var o=0,c=null,e=[],n=[],s=null;function y(R,$){e.push(o),n.push(c),o=R,c=$}function b(){if(e.length===0)return P("illegal state stack");o=e.pop(),c=n.pop()}function P(R){throw new Error("Near offset "+d+": "+R+" ~~~"+_.substr(d,50)+"~~~")}var A,O,q,H=function(){if(s===null)return P("missing <key>");var R={};N!==null&&(R[N]={filename:I,line:k,char:w}),c[s]=R,s=null,y(1,R)},K=function(){if(s===null)return P("missing <key>");var R=[];c[s]=R,s=null,y(2,R)},Z=function(){var R={};N!==null&&(R[N]={filename:I,line:k,char:w}),c.push(R),y(1,R)},he=function(){var R=[];c.push(R),y(2,R)};function f(){if(o!==1)return P("unexpected </dict>");b()}function a(){return o===1||o!==2?P("unexpected </array>"):void b()}function m(R){if(o===1){if(s===null)return P("missing <key>");c[s]=R,s=null}else o===2?c.push(R):c=R}function x(R){if(isNaN(R))return P("cannot parse float");if(o===1){if(s===null)return P("missing <key>");c[s]=R,s=null}else o===2?c.push(R):c=R}function C(R){if(isNaN(R))return P("cannot parse integer");if(o===1){if(s===null)return P("missing <key>");c[s]=R,s=null}else o===2?c.push(R):c=R}function M(R){if(o===1){if(s===null)return P("missing <key>");c[s]=R,s=null}else o===2?c.push(R):c=R}function F(R){if(o===1){if(s===null)return P("missing <key>");c[s]=R,s=null}else o===2?c.push(R):c=R}function G(R){if(o===1){if(s===null)return P("missing <key>");c[s]=R,s=null}else o===2?c.push(R):c=R}function B(R){if(R.isClosed)return"";var $=h("</");return u(">"),$.replace(/&#([0-9]+);/g,function(V,X){return String.fromCodePoint(parseInt(X,10))}).replace(/&#x([0-9a-f]+);/g,function(V,X){return String.fromCodePoint(parseInt(X,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(V){switch(V){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return V})}for(;d<r&&(g(),!(d>=r));){var D=_.charCodeAt(d);if(i(1),D!==60)return P("expected <");if(d>=r)return P("unexpected end of input");var z=_.charCodeAt(d);if(z!==63)if(z!==33){if(z===47){if(i(1),g(),l("plist")){u(">");continue}if(l("dict")){u(">"),f();continue}if(l("array")){u(">"),a();continue}return P("unexpected closed tag")}var U=(O=void 0,q=void 0,O=h(">"),q=!1,O.charCodeAt(O.length-1)===47&&(q=!0,O=O.substring(0,O.length-1)),{name:O.trim(),isClosed:q});switch(U.name){case"dict":o===1?H():o===2?Z():(c={},N!==null&&(c[N]={filename:I,line:k,char:w}),y(1,c)),U.isClosed&&f();continue;case"array":o===1?K():o===2?he():y(2,c=[]),U.isClosed&&a();continue;case"key":A=B(U),o!==1?P("unexpected <key>"):s!==null?P("too many <key>"):s=A;continue;case"string":m(B(U));continue;case"real":x(parseFloat(B(U)));continue;case"integer":C(parseInt(B(U),10));continue;case"date":M(new Date(B(U)));continue;case"data":F(B(U));continue;case"true":B(U),G(!0);continue;case"false":B(U),G(!1);continue}if(!/^plist/.test(U.name))return P("unexpected opened tag "+U.name)}else{if(i(1),l("--")){u("-->");continue}u(">")}else i(1),u("?>")}return c}Object.defineProperty(t,"__esModule",{value:!0}),t.parseWithLocation=function(_,I,N){return L(_,I,N)},t.parse=function(_){return L(_,null,null)}},function(j,t,S){function L(r,d){throw new Error("Near offset "+r.pos+": "+d+" ~~~"+r.source.substr(r.pos,50)+"~~~")}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(r,d,k){var w=new _(r),i=new I,T=0,g=null,l=[],u=[];function h(){l.push(T),u.push(g)}function o(){T=l.pop(),g=u.pop()}function c(y){L(w,y)}for(;N(w,i);){if(T===0){if(g!==null&&c("too many constructs in root"),i.type===3){g={},k&&(g.$vscodeTextmateLocation=i.toLocation(d)),h(),T=1;continue}if(i.type===2){g=[],h(),T=4;continue}c("unexpected token in root")}if(T===2){if(i.type===5){o();continue}if(i.type===7){T=3;continue}c("expected , or }")}if(T===1||T===3){if(T===1&&i.type===5){o();continue}if(i.type===1){var e=i.value;if(N(w,i)&&i.type===6||c("expected colon"),N(w,i)||c("expected value"),T=2,i.type===1){g[e]=i.value;continue}if(i.type===8){g[e]=null;continue}if(i.type===9){g[e]=!0;continue}if(i.type===10){g[e]=!1;continue}if(i.type===11){g[e]=parseFloat(i.value);continue}if(i.type===2){var n=[];g[e]=n,h(),T=4,g=n;continue}if(i.type===3){var s={};k&&(s.$vscodeTextmateLocation=i.toLocation(d)),g[e]=s,h(),T=1,g=s;continue}}c("unexpected token in dict")}if(T===5){if(i.type===4){o();continue}if(i.type===7){T=6;continue}c("expected , or ]")}if(T===4||T===6){if(T===4&&i.type===4){o();continue}if(T=5,i.type===1){g.push(i.value);continue}if(i.type===8){g.push(null);continue}if(i.type===9){g.push(!0);continue}if(i.type===10){g.push(!1);continue}if(i.type===11){g.push(parseFloat(i.value));continue}if(i.type===2){n=[],g.push(n),h(),T=4,g=n;continue}if(i.type===3){s={},k&&(s.$vscodeTextmateLocation=i.toLocation(d)),g.push(s),h(),T=1,g=s;continue}c("unexpected token in array")}c("unknown state")}return u.length!==0&&c("unclosed constructs"),g};var _=function(r){this.source=r,this.pos=0,this.len=r.length,this.line=1,this.char=0},I=function(){function r(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return r.prototype.toLocation=function(d){return{filename:d,line:this.line,char:this.char}},r}();function N(r,d){d.value=null,d.type=0,d.offset=-1,d.len=-1,d.line=-1,d.char=-1;for(var k,w=r.source,i=r.pos,T=r.len,g=r.line,l=r.char;;){if(i>=T)return!1;if((k=w.charCodeAt(i))!==32&&k!==9&&k!==13){if(k!==10)break;i++,g++,l=0}else i++,l++}if(d.offset=i,d.line=g,d.char=l,k===34){for(d.type=1,i++,l++;;){if(i>=T)return!1;if(k=w.charCodeAt(i),i++,l++,k!==92){if(k===34)break}else i++,l++}d.value=w.substring(d.offset+1,i-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(u,h){return String.fromCodePoint(parseInt(h,16))}).replace(/\\(.)/g,function(u,h){switch(h){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:L(r,"invalid escape sequence")}throw new Error("unreachable")})}else if(k===91)d.type=2,i++,l++;else if(k===123)d.type=3,i++,l++;else if(k===93)d.type=4,i++,l++;else if(k===125)d.type=5,i++,l++;else if(k===58)d.type=6,i++,l++;else if(k===44)d.type=7,i++,l++;else if(k===110){if(d.type=8,i++,l++,(k=w.charCodeAt(i))!==117||(i++,l++,(k=w.charCodeAt(i))!==108)||(i++,l++,(k=w.charCodeAt(i))!==108))return!1;i++,l++}else if(k===116){if(d.type=9,i++,l++,(k=w.charCodeAt(i))!==114||(i++,l++,(k=w.charCodeAt(i))!==117)||(i++,l++,(k=w.charCodeAt(i))!==101))return!1;i++,l++}else if(k===102){if(d.type=10,i++,l++,(k=w.charCodeAt(i))!==97||(i++,l++,(k=w.charCodeAt(i))!==108)||(i++,l++,(k=w.charCodeAt(i))!==115)||(i++,l++,(k=w.charCodeAt(i))!==101))return!1;i++,l++}else for(d.type=11;;){if(i>=T)return!1;if(!((k=w.charCodeAt(i))===46||k>=48&&k<=57||k===101||k===69||k===45||k===43))break;i++,l++}return d.len=i-d.offset,d.value===null&&(d.value=w.substr(d.offset,d.len)),r.pos=i,r.line=g,r.char=l,!0}},function(j,t,S){Object.defineProperty(t,"__esModule",{value:!0});var L=function(g,l,u,h,o,c){this.scope=g,this.parentScopes=l,this.index=u,this.fontStyle=h,this.foreground=o,this.background=c};function _(g){return!!/^#[0-9a-f]{6}$/i.test(g)||!!/^#[0-9a-f]{8}$/i.test(g)||!!/^#[0-9a-f]{3}$/i.test(g)||!!/^#[0-9a-f]{4}$/i.test(g)}function I(g){if(!g)return[];if(!g.settings||!Array.isArray(g.settings))return[];for(var l=g.settings,u=[],h=0,o=0,c=l.length;o<c;o++){var e=l[o];if(e.settings){var n=void 0;typeof e.scope=="string"?n=e.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):n=Array.isArray(e.scope)?e.scope:[""];var s=-1;if(typeof e.settings.fontStyle=="string"){s=0;for(var y=0,b=(O=e.settings.fontStyle.split(" ")).length;y<b;y++)switch(O[y]){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4}}var P=null;typeof e.settings.foreground=="string"&&_(e.settings.foreground)&&(P=e.settings.foreground);var A=null;for(typeof e.settings.background=="string"&&_(e.settings.background)&&(A=e.settings.background),y=0,b=n.length;y<b;y++){var O,q=(O=n[y].trim().split(" "))[O.length-1],H=null;O.length>1&&(H=O.slice(0,O.length-1)).reverse(),u[h++]=new L(q,H,o,s,P,A)}}}return u}function N(g,l){g.sort(function(A,O){var q=k(A.scope,O.scope);return q!==0||(q=w(A.parentScopes,O.parentScopes))!==0?q:A.index-O.index});for(var u=0,h="#000000",o="#ffffff";g.length>=1&&g[0].scope==="";){var c=g.shift();c.fontStyle!==-1&&(u=c.fontStyle),c.foreground!==null&&(h=c.foreground),c.background!==null&&(o=c.background)}for(var e=new r(l),n=new i(0,null,u,e.getId(h),e.getId(o)),s=new T(new i(0,null,-1,0,0),[]),y=0,b=g.length;y<b;y++){var P=g[y];s.insert(0,P.scope,P.parentScopes,P.fontStyle,e.getId(P.foreground),e.getId(P.background))}return new d(e,n,s)}t.ParsedThemeRule=L,t.parseTheme=I;var r=function(){function g(l){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(l)){this._isFrozen=!0;for(var u=0,h=l.length;u<h;u++)this._color2id[l[u]]=u,this._id2color[u]=l[u]}else this._isFrozen=!1}return g.prototype.getId=function(l){if(l===null)return 0;l=l.toUpperCase();var u=this._color2id[l];if(u)return u;if(this._isFrozen)throw new Error("Missing color in color map - "+l);return u=++this._lastColorId,this._color2id[l]=u,this._id2color[u]=l,u},g.prototype.getColorMap=function(){return this._id2color.slice(0)},g}();t.ColorMap=r;var d=function(){function g(l,u,h){this._colorMap=l,this._root=h,this._defaults=u,this._cache={}}return g.createFromRawTheme=function(l,u){return this.createFromParsedTheme(I(l),u)},g.createFromParsedTheme=function(l,u){return N(l,u)},g.prototype.getColorMap=function(){return this._colorMap.getColorMap()},g.prototype.getDefaults=function(){return this._defaults},g.prototype.match=function(l){return this._cache.hasOwnProperty(l)||(this._cache[l]=this._root.match(l)),this._cache[l]},g}();function k(g,l){return g<l?-1:g>l?1:0}function w(g,l){if(g===null&&l===null)return 0;if(!g)return-1;if(!l)return 1;var u=g.length,h=l.length;if(u===h){for(var o=0;o<u;o++){var c=k(g[o],l[o]);if(c!==0)return c}return 0}return u-h}t.Theme=d,t.strcmp=k,t.strArrCmp=w;var i=function(){function g(l,u,h,o,c){this.scopeDepth=l,this.parentScopes=u,this.fontStyle=h,this.foreground=o,this.background=c}return g.prototype.clone=function(){return new g(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},g.cloneArr=function(l){for(var u=[],h=0,o=l.length;h<o;h++)u[h]=l[h].clone();return u},g.prototype.acceptOverwrite=function(l,u,h,o){this.scopeDepth>l?console.log("how did this happen?"):this.scopeDepth=l,u!==-1&&(this.fontStyle=u),h!==0&&(this.foreground=h),o!==0&&(this.background=o)},g}();t.ThemeTrieElementRule=i;var T=function(){function g(l,u,h){u===void 0&&(u=[]),h===void 0&&(h={}),this._mainRule=l,this._rulesWithParentScopes=u,this._children=h}return g._sortBySpecificity=function(l){return l.length===1||l.sort(this._cmpBySpecificity),l},g._cmpBySpecificity=function(l,u){if(l.scopeDepth===u.scopeDepth){var h=l.parentScopes,o=u.parentScopes,c=h===null?0:h.length,e=o===null?0:o.length;if(c===e)for(var n=0;n<c;n++){var s=h[n].length,y=o[n].length;if(s!==y)return y-s}return e-c}return u.scopeDepth-l.scopeDepth},g.prototype.match=function(l){if(l==="")return g._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var u,h,o=l.indexOf(".");return o===-1?(u=l,h=""):(u=l.substring(0,o),h=l.substring(o+1)),this._children.hasOwnProperty(u)?this._children[u].match(h):g._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},g.prototype.insert=function(l,u,h,o,c,e){if(u!==""){var n,s,y,b=u.indexOf(".");b===-1?(n=u,s=""):(n=u.substring(0,b),s=u.substring(b+1)),this._children.hasOwnProperty(n)?y=this._children[n]:(y=new g(this._mainRule.clone(),i.cloneArr(this._rulesWithParentScopes)),this._children[n]=y),y.insert(l+1,s,h,o,c,e)}else this._doInsertHere(l,h,o,c,e)},g.prototype._doInsertHere=function(l,u,h,o,c){if(u!==null){for(var e=0,n=this._rulesWithParentScopes.length;e<n;e++){var s=this._rulesWithParentScopes[e];if(w(s.parentScopes,u)===0)return void s.acceptOverwrite(l,h,o,c)}h===-1&&(h=this._mainRule.fontStyle),o===0&&(o=this._mainRule.foreground),c===0&&(c=this._mainRule.background),this._rulesWithParentScopes.push(new i(l,u,h,o,c))}else this._mainRule.acceptOverwrite(l,h,o,c)},g}();t.ThemeTrieElement=T}])})})(Ee);const Me=[{id:"abap",scopeName:"source.abap",path:"abap.tmLanguage.json",samplePath:"abap.sample"},{id:"actionscript-3",scopeName:"source.actionscript.3",path:"actionscript-3.tmLanguage.json",samplePath:"actionscript-3.sample"},{id:"ada",scopeName:"source.ada",path:"ada.tmLanguage.json",samplePath:"ada.sample"},{id:"apache",scopeName:"source.apacheconf",path:"apache.tmLanguage.json"},{id:"apex",scopeName:"source.apex",path:"apex.tmLanguage.json",samplePath:"apex.sample"},{id:"apl",scopeName:"source.apl",path:"apl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","json"]},{id:"applescript",scopeName:"source.applescript",path:"applescript.tmLanguage.json",samplePath:"applescript.sample"},{id:"asm",scopeName:"source.asm.x86_64",path:"asm.tmLanguage.json",samplePath:"asm.sample"},{id:"astro",scopeName:"text.html.astro",path:"astro.tmLanguage.json",samplePath:"astro.sample",embeddedLangs:["css","javascript","less","sass","scss","stylus","typescript","tsx"]},{id:"awk",scopeName:"source.awk",path:"awk.tmLanguage.json",samplePath:"awk.sample"},{id:"ballerina",scopeName:"source.ballerina",path:"ballerina.tmLanguage.json",samplePath:"ballerina.sample"},{id:"bat",scopeName:"source.batchfile",path:"bat.tmLanguage.json",samplePath:"bat.sample",aliases:["batch"]},{id:"berry",scopeName:"source.berry",path:"berry.tmLanguage.json",samplePath:"berry.sample",aliases:["be"]},{id:"bibtex",scopeName:"text.bibtex",path:"bibtex.tmLanguage.json"},{id:"bicep",scopeName:"source.bicep",path:"bicep.tmLanguage.json",samplePath:"bicep.sample"},{id:"c",scopeName:"source.c",path:"c.tmLanguage.json",samplePath:"c.sample"},{id:"clojure",scopeName:"source.clojure",path:"clojure.tmLanguage.json",samplePath:"clojure.sample",aliases:["clj"]},{id:"cobol",scopeName:"source.cobol",path:"cobol.tmLanguage.json",samplePath:"cobol.sample",embeddedLangs:["sql","html","java"]},{id:"codeql",scopeName:"source.ql",path:"codeql.tmLanguage.json",samplePath:"codeql.sample",aliases:["ql"]},{id:"coffee",scopeName:"source.coffee",path:"coffee.tmLanguage.json",samplePath:"coffee.sample",embeddedLangs:["javascript"]},{id:"cpp",scopeName:"source.cpp",path:"cpp.tmLanguage.json",samplePath:"cpp.sample",embeddedLangs:["sql"]},{id:"crystal",scopeName:"source.crystal",path:"crystal.tmLanguage.json",samplePath:"crystal.sample",embeddedLangs:["html","sql","css","c","javascript","shellscript"]},{id:"csharp",scopeName:"source.cs",path:"csharp.tmLanguage.json",samplePath:"csharp.sample",aliases:["c#"]},{id:"css",scopeName:"source.css",path:"css.tmLanguage.json",samplePath:"css.sample"},{id:"cue",scopeName:"source.cue",path:"cue.tmLanguage.json",samplePath:"cue.sample"},{id:"d",scopeName:"source.d",path:"d.tmLanguage.json",samplePath:"d.sample"},{id:"dart",scopeName:"source.dart",path:"dart.tmLanguage.json",samplePath:"dart.sample"},{id:"diff",scopeName:"source.diff",path:"diff.tmLanguage.json",samplePath:"diff.sample"},{id:"docker",scopeName:"source.dockerfile",path:"docker.tmLanguage.json",samplePath:"docker.sample"},{id:"dream-maker",scopeName:"source.dm",path:"dream-maker.tmLanguage.json"},{id:"elixir",scopeName:"source.elixir",path:"elixir.tmLanguage.json",samplePath:"elixir.sample",embeddedLangs:["html"]},{id:"elm",scopeName:"source.elm",path:"elm.tmLanguage.json",samplePath:"elm.sample"},{id:"erb",scopeName:"text.html.erb",path:"erb.tmLanguage.json",samplePath:"erb.sample",embeddedLangs:["html","ruby"]},{id:"erlang",scopeName:"source.erlang",path:"erlang.tmLanguage.json",samplePath:"erlang.sample"},{id:"fish",scopeName:"source.fish",path:"fish.tmLanguage.json",samplePath:"fish.sample"},{id:"fsharp",scopeName:"source.fsharp",path:"fsharp.tmLanguage.json",samplePath:"fsharp.sample",aliases:["f#"],embeddedLangs:["markdown"]},{id:"gherkin",scopeName:"text.gherkin.feature",path:"gherkin.tmLanguage.json"},{id:"git-commit",scopeName:"text.git-commit",path:"git-commit.tmLanguage.json",embeddedLangs:["diff"]},{id:"git-rebase",scopeName:"text.git-rebase",path:"git-rebase.tmLanguage.json",embeddedLangs:["shellscript"]},{id:"gnuplot",scopeName:"source.gnuplot",path:"gnuplot.tmLanguage.json"},{id:"go",scopeName:"source.go",path:"go.tmLanguage.json",samplePath:"go.sample"},{id:"graphql",scopeName:"source.graphql",path:"graphql.tmLanguage.json",embeddedLangs:["javascript","typescript","jsx","tsx"]},{id:"groovy",scopeName:"source.groovy",path:"groovy.tmLanguage.json"},{id:"hack",scopeName:"source.hack",path:"hack.tmLanguage.json",embeddedLangs:["html","sql"]},{id:"haml",scopeName:"text.haml",path:"haml.tmLanguage.json",embeddedLangs:["ruby","javascript","sass","coffee","markdown","css"]},{id:"handlebars",scopeName:"text.html.handlebars",path:"handlebars.tmLanguage.json",aliases:["hbs"],embeddedLangs:["html","css","javascript","yaml"]},{id:"haskell",scopeName:"source.haskell",path:"haskell.tmLanguage.json"},{id:"hcl",scopeName:"source.hcl",path:"hcl.tmLanguage.json"},{id:"hlsl",scopeName:"source.hlsl",path:"hlsl.tmLanguage.json"},{id:"html",scopeName:"text.html.basic",path:"html.tmLanguage.json",samplePath:"html.sample",embeddedLangs:["javascript","css"]},{id:"ini",scopeName:"source.ini",path:"ini.tmLanguage.json"},{id:"java",scopeName:"source.java",path:"java.tmLanguage.json",samplePath:"java.sample"},{id:"javascript",scopeName:"source.js",path:"javascript.tmLanguage.json",samplePath:"javascript.sample",aliases:["js"]},{id:"jinja-html",scopeName:"text.html.jinja",path:"jinja-html.tmLanguage.json",embeddedLangs:["html"]},{id:"json",scopeName:"source.json",path:"json.tmLanguage.json"},{id:"jsonc",scopeName:"source.json.comments",path:"jsonc.tmLanguage.json"},{id:"jsonnet",scopeName:"source.jsonnet",path:"jsonnet.tmLanguage.json"},{id:"jssm",scopeName:"source.jssm",path:"jssm.tmLanguage.json",samplePath:"jssm.sample",aliases:["fsl"]},{id:"jsx",scopeName:"source.js.jsx",path:"jsx.tmLanguage.json"},{id:"julia",scopeName:"source.julia",path:"julia.tmLanguage.json",embeddedLangs:["cpp","python","javascript","r","sql"]},{id:"jupyter",scopeName:"source.jupyter",path:"jupyter.tmLanguage.json",embeddedLangs:["json"]},{id:"kotlin",scopeName:"source.kotlin",path:"kotlin.tmLanguage.json"},{id:"latex",scopeName:"text.tex.latex",path:"latex.tmLanguage.json",embeddedLangs:["tex","css","html","java","javascript","typescript","lua","python","julia","ruby","xml","yaml","cpp","haskell","scala","gnuplot"]},{id:"less",scopeName:"source.css.less",path:"less.tmLanguage.json",embeddedLangs:["css"]},{id:"lisp",scopeName:"source.lisp",path:"lisp.tmLanguage.json"},{id:"logo",scopeName:"source.logo",path:"logo.tmLanguage.json"},{id:"lua",scopeName:"source.lua",path:"lua.tmLanguage.json",embeddedLangs:["c"]},{id:"make",scopeName:"source.makefile",path:"make.tmLanguage.json",aliases:["makefile"]},{id:"markdown",scopeName:"text.html.markdown",path:"markdown.tmLanguage.json",aliases:["md"],embeddedLangs:["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","less","objective-c","swift","scss","raku","powershell","python","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","erlang","elixir","latex","bibtex"]},{id:"marko",scopeName:"text.marko",path:"marko.tmLanguage.json",samplePath:"marko.sample",embeddedLangs:["css","less","scss","javascript"]},{id:"matlab",scopeName:"source.matlab",path:"matlab.tmLanguage.json"},{id:"mdx",scopeName:"text.html.markdown.jsx",path:"mdx.tmLanguage.json",embeddedLangs:["jsx","markdown"]},{id:"nginx",scopeName:"source.nginx",path:"nginx.tmLanguage.json",embeddedLangs:["lua"]},{id:"nim",scopeName:"source.nim",path:"nim.tmLanguage.json",embeddedLangs:["c","html","xml","javascript","css","markdown"]},{id:"nix",scopeName:"source.nix",path:"nix.tmLanguage.json"},{id:"objective-c",scopeName:"source.objc",path:"objective-c.tmLanguage.json",aliases:["objc"]},{id:"objective-cpp",scopeName:"source.objcpp",path:"objective-cpp.tmLanguage.json"},{id:"ocaml",scopeName:"source.ocaml",path:"ocaml.tmLanguage.json"},{id:"pascal",scopeName:"source.pascal",path:"pascal.tmLanguage.json"},{id:"perl",scopeName:"source.perl",path:"perl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","sql"]},{id:"php",scopeName:"source.php",path:"php.tmLanguage.json",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"plsql",scopeName:"source.plsql.oracle",path:"plsql.tmLanguage.json"},{id:"postcss",scopeName:"source.css.postcss",path:"postcss.tmLanguage.json"},{id:"powershell",scopeName:"source.powershell",path:"powershell.tmLanguage.json",aliases:["ps","ps1"]},{id:"prisma",scopeName:"source.prisma",path:"prisma.tmLanguage.json",samplePath:"prisma.sample"},{id:"prolog",scopeName:"source.prolog",path:"prolog.tmLanguage.json"},{id:"pug",scopeName:"text.pug",path:"pug.tmLanguage.json",aliases:["jade"],embeddedLangs:["javascript","css","sass","stylus","coffee","html"]},{id:"puppet",scopeName:"source.puppet",path:"puppet.tmLanguage.json"},{id:"purescript",scopeName:"source.purescript",path:"purescript.tmLanguage.json"},{id:"python",scopeName:"source.python",path:"python.tmLanguage.json",samplePath:"python.sample",aliases:["py"]},{id:"r",scopeName:"source.r",path:"r.tmLanguage.json"},{id:"raku",scopeName:"source.perl.6",path:"raku.tmLanguage.json",aliases:["perl6"]},{id:"razor",scopeName:"text.aspnetcorerazor",path:"razor.tmLanguage.json",embeddedLangs:["html","csharp"]},{id:"rel",scopeName:"source.rel",path:"rel.tmLanguage.json",samplePath:"rel.sample"},{id:"riscv",scopeName:"source.riscv",path:"riscv.tmLanguage.json"},{id:"ruby",scopeName:"source.ruby",path:"ruby.tmLanguage.json",samplePath:"ruby.sample",aliases:["rb"],embeddedLangs:["html","xml","sql","css","c","javascript","shellscript","lua"]},{id:"rust",scopeName:"source.rust",path:"rust.tmLanguage.json",aliases:["rs"]},{id:"sas",scopeName:"source.sas",path:"sas.tmLanguage.json",embeddedLangs:["sql"]},{id:"sass",scopeName:"source.sass",path:"sass.tmLanguage.json"},{id:"scala",scopeName:"source.scala",path:"scala.tmLanguage.json"},{id:"scheme",scopeName:"source.scheme",path:"scheme.tmLanguage.json"},{id:"scss",scopeName:"source.css.scss",path:"scss.tmLanguage.json",embeddedLangs:["css"]},{id:"shaderlab",scopeName:"source.shaderlab",path:"shaderlab.tmLanguage.json",aliases:["shader"],embeddedLangs:["hlsl"]},{id:"shellscript",scopeName:"source.shell",path:"shellscript.tmLanguage.json",aliases:["shell","bash","sh","zsh"],embeddedLangs:["ruby","python","applescript","html","markdown"]},{id:"smalltalk",scopeName:"source.smalltalk",path:"smalltalk.tmLanguage.json"},{id:"solidity",scopeName:"source.solidity",path:"solidity.tmLanguage.json"},{id:"sparql",scopeName:"source.sparql",path:"sparql.tmLanguage.json",samplePath:"sparql.sample",embeddedLangs:["turtle"]},{id:"sql",scopeName:"source.sql",path:"sql.tmLanguage.json"},{id:"ssh-config",scopeName:"source.ssh-config",path:"ssh-config.tmLanguage.json"},{id:"stata",scopeName:"source.stata",path:"stata.tmLanguage.json",samplePath:"stata.sample",embeddedLangs:["sql"]},{id:"stylus",scopeName:"source.stylus",path:"stylus.tmLanguage.json",aliases:["styl"]},{id:"svelte",scopeName:"source.svelte",path:"svelte.tmLanguage.json",embeddedLangs:["javascript","typescript","coffee","stylus","sass","css","scss","less","postcss","pug","markdown"]},{id:"swift",scopeName:"source.swift",path:"swift.tmLanguage.json"},{id:"system-verilog",scopeName:"source.systemverilog",path:"system-verilog.tmLanguage.json"},{id:"tasl",scopeName:"source.tasl",path:"tasl.tmLanguage.json",samplePath:"tasl.sample"},{id:"tcl",scopeName:"source.tcl",path:"tcl.tmLanguage.json"},{id:"tex",scopeName:"text.tex",path:"tex.tmLanguage.json",embeddedLangs:["r"]},{id:"toml",scopeName:"source.toml",path:"toml.tmLanguage.json"},{id:"tsx",scopeName:"source.tsx",path:"tsx.tmLanguage.json",samplePath:"tsx.sample"},{id:"turtle",scopeName:"source.turtle",path:"turtle.tmLanguage.json",samplePath:"turtle.sample"},{id:"twig",scopeName:"text.html.twig",path:"twig.tmLanguage.json",embeddedLangs:["css","javascript","php","python","ruby"]},{id:"typescript",scopeName:"source.ts",path:"typescript.tmLanguage.json",aliases:["ts"]},{id:"vb",scopeName:"source.asp.vb.net",path:"vb.tmLanguage.json",aliases:["cmd"]},{id:"verilog",scopeName:"source.verilog",path:"verilog.tmLanguage.json"},{id:"vhdl",scopeName:"source.vhdl",path:"vhdl.tmLanguage.json"},{id:"viml",scopeName:"source.viml",path:"viml.tmLanguage.json",aliases:["vim","vimscript"]},{id:"vue-html",scopeName:"text.html.vue-html",path:"vue-html.tmLanguage.json",embeddedLangs:["vue","javascript"]},{id:"vue",scopeName:"source.vue",path:"vue.tmLanguage.json",embeddedLangs:["json","markdown","pug","haml","vue-html","sass","scss","less","stylus","postcss","css","typescript","coffee","javascript"]},{id:"wasm",scopeName:"source.wat",path:"wasm.tmLanguage.json"},{id:"wenyan",scopeName:"source.wenyan",path:"wenyan.tmLanguage.json",aliases:["\u6587\u8A00"]},{id:"xml",scopeName:"text.xml",path:"xml.tmLanguage.json",embeddedLangs:["java"]},{id:"xsl",scopeName:"text.xml.xsl",path:"xsl.tmLanguage.json",embeddedLangs:["xml"]},{id:"yaml",scopeName:"source.yaml",path:"yaml.tmLanguage.json"},{id:"zenscript",scopeName:"source.zenscript",path:"zenscript.tmLanguage.json",samplePath:"zenscript.sample"}];var be;(function(p){p[p.NotSet=-1]="NotSet",p[p.None=0]="None",p[p.Italic=1]="Italic",p[p.Bold=2]="Bold",p[p.Underline=4]="Underline"})(be||(be={}));class le{static toBinaryStr(v){let j=v.toString(2);for(;j.length<32;)j="0"+j;return j}static printMetadata(v){let j=le.getLanguageId(v),t=le.getTokenType(v),S=le.getFontStyle(v),L=le.getForeground(v),_=le.getBackground(v);console.log({languageId:j,tokenType:t,fontStyle:S,foreground:L,background:_})}static getLanguageId(v){return(v&255)>>>0}static getTokenType(v){return(v&1792)>>>8}static getFontStyle(v){return(v&14336)>>>11}static getForeground(v){return(v&8372224)>>>14}static getBackground(v){return(v&4286578688)>>>23}static set(v,j,t,S,L,_){let I=le.getLanguageId(v),N=le.getTokenType(v),r=le.getFontStyle(v),d=le.getForeground(v),k=le.getBackground(v);return j!==0&&(I=j),t!==0&&(N=t===8?0:t),S!==be.NotSet&&(r=S),L!==0&&(d=L),_!==0&&(k=_),(I<<0|N<<8|r<<11|d<<14|k<<23)>>>0}}function Ze(p){return p.endsWith("/")||p.endsWith("\\")?p.slice(0,-1):p}function et(p){return p.startsWith("./")?p.slice(2):p}function tt(p){const v=p.split(/[\/\\]/g);return v[v.length-2]}function nt(...p){return p.map(Ze).map(et).join("/")}function rt(p,v){const j=new Map;for(const t of p){const S=v(t);j.has(S)?j.get(S).push(t):j.set(S,[t])}return j}function st(p,v){v===void 0&&(v=!1);var j=p.length,t=0,S="",L=0,_=16,I=0,N=0,r=0,d=0,k=0;function w(o,c){for(var e=0,n=0;e<o||!c;){var s=p.charCodeAt(t);if(s>=48&&s<=57)n=n*16+s-48;else if(s>=65&&s<=70)n=n*16+s-65+10;else if(s>=97&&s<=102)n=n*16+s-97+10;else break;t++,e++}return e<o&&(n=-1),n}function i(o){t=o,S="",L=0,_=16,k=0}function T(){var o=t;if(p.charCodeAt(t)===48)t++;else for(t++;t<p.length&&ye(p.charCodeAt(t));)t++;if(t<p.length&&p.charCodeAt(t)===46)if(t++,t<p.length&&ye(p.charCodeAt(t)))for(t++;t<p.length&&ye(p.charCodeAt(t));)t++;else return k=3,p.substring(o,t);var c=t;if(t<p.length&&(p.charCodeAt(t)===69||p.charCodeAt(t)===101))if(t++,(t<p.length&&p.charCodeAt(t)===43||p.charCodeAt(t)===45)&&t++,t<p.length&&ye(p.charCodeAt(t))){for(t++;t<p.length&&ye(p.charCodeAt(t));)t++;c=t}else k=3;return p.substring(o,c)}function g(){for(var o="",c=t;;){if(t>=j){o+=p.substring(c,t),k=2;break}var e=p.charCodeAt(t);if(e===34){o+=p.substring(c,t),t++;break}if(e===92){if(o+=p.substring(c,t),t++,t>=j){k=2;break}var n=p.charCodeAt(t++);switch(n){case 34:o+='"';break;case 92:o+="\\";break;case 47:o+="/";break;case 98:o+="\b";break;case 102:o+="\f";break;case 110:o+=`
`;break;case 114:o+="\r";break;case 116:o+="	";break;case 117:var s=w(4,!0);s>=0?o+=String.fromCharCode(s):k=4;break;default:k=5}c=t;continue}if(e>=0&&e<=31)if(ke(e)){o+=p.substring(c,t),k=2;break}else k=6;t++}return o}function l(){if(S="",k=0,L=t,N=I,d=r,t>=j)return L=j,_=17;var o=p.charCodeAt(t);if(Te(o)){do t++,S+=String.fromCharCode(o),o=p.charCodeAt(t);while(Te(o));return _=15}if(ke(o))return t++,S+=String.fromCharCode(o),o===13&&p.charCodeAt(t)===10&&(t++,S+=`
`),I++,r=t,_=14;switch(o){case 123:return t++,_=1;case 125:return t++,_=2;case 91:return t++,_=3;case 93:return t++,_=4;case 58:return t++,_=6;case 44:return t++,_=5;case 34:return t++,S=g(),_=10;case 47:var c=t-1;if(p.charCodeAt(t+1)===47){for(t+=2;t<j&&!ke(p.charCodeAt(t));)t++;return S=p.substring(c,t),_=12}if(p.charCodeAt(t+1)===42){t+=2;for(var e=j-1,n=!1;t<e;){var s=p.charCodeAt(t);if(s===42&&p.charCodeAt(t+1)===47){t+=2,n=!0;break}t++,ke(s)&&(s===13&&p.charCodeAt(t)===10&&t++,I++,r=t)}return n||(t++,k=1),S=p.substring(c,t),_=13}return S+=String.fromCharCode(o),t++,_=16;case 45:if(S+=String.fromCharCode(o),t++,t===j||!ye(p.charCodeAt(t)))return _=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return S+=T(),_=11;default:for(;t<j&&u(o);)t++,o=p.charCodeAt(t);if(L!==t){switch(S=p.substring(L,t),S){case"true":return _=8;case"false":return _=9;case"null":return _=7}return _=16}return S+=String.fromCharCode(o),t++,_=16}}function u(o){if(Te(o)||ke(o))return!1;switch(o){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function h(){var o;do o=l();while(o>=12&&o<=15);return o}return{setPosition:i,getPosition:function(){return t},scan:v?h:l,getToken:function(){return _},getTokenValue:function(){return S},getTokenOffset:function(){return L},getTokenLength:function(){return t-L},getTokenStartLine:function(){return N},getTokenStartCharacter:function(){return L-d},getTokenError:function(){return k}}}function Te(p){return p===32||p===9||p===11||p===12||p===160||p===5760||p>=8192&&p<=8203||p===8239||p===8287||p===12288||p===65279}function ke(p){return p===10||p===13||p===8232||p===8233}function ye(p){return p>=48&&p<=57}var je;(function(p){p.DEFAULT={allowTrailingComma:!1}})(je||(je={}));function at(p,v,j){v===void 0&&(v=[]),j===void 0&&(j=je.DEFAULT);var t=null,S=[],L=[];function _(N){Array.isArray(S)?S.push(N):t!==null&&(S[t]=N)}var I={onObjectBegin:function(){var N={};_(N),L.push(S),S=N,t=null},onObjectProperty:function(N){t=N},onObjectEnd:function(){S=L.pop()},onArrayBegin:function(){var N=[];_(N),L.push(S),S=N,t=null},onArrayEnd:function(){S=L.pop()},onLiteralValue:_,onError:function(N,r,d){v.push({error:N,offset:r,length:d})}};return ot(p,I,j),S[0]}function ot(p,v,j){j===void 0&&(j=je.DEFAULT);var t=st(p,!1);function S(b){return b?function(){return b(t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter())}:function(){return!0}}function L(b){return b?function(P){return b(P,t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter())}:function(){return!0}}var _=S(v.onObjectBegin),I=L(v.onObjectProperty),N=S(v.onObjectEnd),r=S(v.onArrayBegin),d=S(v.onArrayEnd),k=L(v.onLiteralValue),w=L(v.onSeparator),i=S(v.onComment),T=L(v.onError),g=j&&j.disallowComments,l=j&&j.allowTrailingComma;function u(){for(;;){var b=t.scan();switch(t.getTokenError()){case 4:h(14);break;case 5:h(15);break;case 3:h(13);break;case 1:g||h(11);break;case 2:h(12);break;case 6:h(16);break}switch(b){case 12:case 13:g?h(10):i();break;case 16:h(1);break;case 15:case 14:break;default:return b}}}function h(b,P,A){if(P===void 0&&(P=[]),A===void 0&&(A=[]),T(b),P.length+A.length>0)for(var O=t.getToken();O!==17;){if(P.indexOf(O)!==-1){u();break}else if(A.indexOf(O)!==-1)break;O=u()}}function o(b){var P=t.getTokenValue();return b?k(P):I(P),u(),!0}function c(){switch(t.getToken()){case 11:var b=t.getTokenValue(),P=Number(b);isNaN(P)&&(h(2),P=0),k(P);break;case 7:k(null);break;case 8:k(!0);break;case 9:k(!1);break;default:return!1}return u(),!0}function e(){return t.getToken()!==10?(h(3,[],[2,5]),!1):(o(!1),t.getToken()===6?(w(":"),u(),y()||h(4,[],[2,5])):h(5,[],[2,5]),!0)}function n(){_(),u();for(var b=!1;t.getToken()!==2&&t.getToken()!==17;){if(t.getToken()===5){if(b||h(4,[],[]),w(","),u(),t.getToken()===2&&l)break}else b&&h(6,[],[]);e()||h(4,[],[2,5]),b=!0}return N(),t.getToken()!==2?h(7,[2],[]):u(),!0}function s(){r(),u();for(var b=!1;t.getToken()!==4&&t.getToken()!==17;){if(t.getToken()===5){if(b||h(4,[],[]),w(","),u(),t.getToken()===4&&l)break}else b&&h(6,[],[]);y()||h(4,[],[4,5]),b=!0}return d(),t.getToken()!==4?h(8,[4],[]):u(),!0}function y(){switch(t.getToken()){case 3:return s();case 1:return n();case 10:return o(!0);default:return c()}}return u(),t.getToken()===17?j.allowEmptyContent?!0:(h(4,[],[]),!1):y()?(t.getToken()!==17&&h(9,[],[]),!0):(h(4,[],[]),!1)}var it=at;const ct=typeof self<"u"&&typeof self.WorkerGlobalScope<"u",De=ct||typeof window<"u"&&typeof window.document<"u"&&typeof fetch<"u";let Ie="",Oe="";function ut(p){Ie=p}function lt(p){Oe=p}let xe=null;async function pt(){if(!xe){let p;if(De)typeof Oe=="string"?p=ve.exports.loadWASM({data:await fetch(Ke("dist/onig.wasm")).then(v=>v.arrayBuffer())}):p=ve.exports.loadWASM(Oe);else{const j=require("path").join(require.resolve("vscode-oniguruma"),"../onig.wasm"),S=require("fs").readFileSync(j).buffer;p=ve.exports.loadWASM(S)}xe=p.then(()=>({createOnigScanner(v){return ve.exports.createOnigScanner(v)},createOnigString(v){return ve.exports.createOnigString(v)}}))}return xe}function Ke(p){if(De)return Ie||console.warn("[Shiki] no CDN provider found, use `setCDN()` to specify the CDN for loading the resources before calling `getHighlighter()`"),`${Ie}${p}`;{const v=require("path");return v.isAbsolute(p)?p:v.resolve(__dirname,"..",p)}}async function ht(p){const v=Ke(p);return De?await fetch(v).then(j=>j.text()):await require("fs").promises.readFile(v,"utf-8")}async function Xe(p){const v=[],j=it(await ht(p),v,{allowTrailingComma:!0});if(v.length)throw v[0];return j}async function Ce(p){let v=await Xe(p);const j=Je(v);if(j.include){const t=await Ce(nt(tt(p),j.include));t.settings&&(j.settings=t.settings.concat(j.settings)),t.bg&&!j.bg&&(j.bg=t.bg),t.colors&&(j.colors=Object.assign(Object.assign({},t.colors),j.colors)),delete j.include}return j}async function ft(p){return await Xe(p)}function dt(p){p.settings||(p.settings=[]),!(p.settings[0]&&p.settings[0].settings&&!p.settings[0].scope)&&p.settings.unshift({settings:{foreground:p.fg,background:p.bg}})}function Je(p){const v=p.type||"dark",j=Object.assign(Object.assign({name:p.name,type:v},p),gt(p));return p.include&&(j.include=p.include),p.tokenColors&&(j.settings=p.tokenColors,delete j.tokenColors),dt(j),j}const Fe={light:"#333333",dark:"#bbbbbb"},$e={light:"#fffffe",dark:"#1e1e1e"};function gt(p){var v,j,t,S,L,_;let I,N,r=p.settings?p.settings:p.tokenColors;const d=r?r.find(k=>!k.name&&!k.scope):void 0;return!((v=d==null?void 0:d.settings)===null||v===void 0)&&v.foreground&&(I=d.settings.foreground),!((j=d==null?void 0:d.settings)===null||j===void 0)&&j.background&&(N=d.settings.background),!I&&((S=(t=p)===null||t===void 0?void 0:t.colors)===null||S===void 0?void 0:S["editor.foreground"])&&(I=p.colors["editor.foreground"]),!N&&((_=(L=p)===null||L===void 0?void 0:L.colors)===null||_===void 0?void 0:_["editor.background"])&&(N=p.colors["editor.background"]),I||(I=p.type==="light"?Fe.light:Fe.dark),N||(N=p.type==="light"?$e.light:$e.dark),{fg:I,bg:N}}class mt{constructor(v,j){this.languagesPath="languages/",this.languageMap={},this.scopeToLangMap={},this._onigLibPromise=v,this._onigLibName=j}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(v){return this.languageMap[v]}async loadGrammar(v){const j=this.scopeToLangMap[v];if(!j)return null;if(j.grammar)return j.grammar;const t=await ft(Me.includes(j)?`${this.languagesPath}${j.path}`:j.path);return j.grammar=t,t}addLanguage(v){this.languageMap[v.id]=v,v.aliases&&v.aliases.forEach(j=>{this.languageMap[j]=v}),this.scopeToLangMap[v.scopeName]=v}}function _t(p,v,j,t,S){let L=j.split(/\r\n|\r|\n/),_=Ee.exports.INITIAL,I=[],N=[];for(let r=0,d=L.length;r<d;r++){let k=L[r];if(k===""){I=[],N.push([]);continue}let w,i,T;S.includeExplanation&&(w=t.tokenizeLine(k,_),i=w.tokens,T=0);let g=t.tokenizeLine2(k,_),l=g.tokens.length/2;for(let u=0;u<l;u++){let h=g.tokens[2*u],o=u+1<l?g.tokens[2*u+2]:k.length;if(h===o)continue;let c=g.tokens[2*u+1],e=le.getForeground(c),n=v[e],s=le.getFontStyle(c),y=[];if(S.includeExplanation){let b=0;for(;h+b<o;){let P=i[T],A=k.substring(P.startIndex,P.endIndex);b+=A.length,y.push({content:A,scopes:yt(p,P.scopes)}),T++}}I.push({content:k.substring(h,o),color:n,fontStyle:s,explanation:y})}N.push(I),I=[],_=g.ruleStack}return N}function yt(p,v){let j=[];for(let t=0,S=v.length;t<S;t++){let L=v.slice(0,t),_=v[t];j[t]={scopeName:_,themeMatches:bt(p,_,L)}}return j}function Ue(p,v){let j=p+".";return p===v||v.substring(0,j.length)===j}function vt(p,v,j,t){if(!Ue(p,j))return!1;let S=v.length-1,L=t.length-1;for(;S>=0&&L>=0;)Ue(v[S],t[L])&&S--,L--;return S===-1}function bt(p,v,j){let t=[],S=0;for(let L=0,_=p.settings.length;L<_;L++){let I=p.settings[L],N;if(typeof I.scope=="string")N=I.scope.split(/,/).map(r=>r.trim());else if(Array.isArray(I.scope))N=I.scope;else continue;for(let r=0,d=N.length;r<d;r++){let w=N[r].split(/ /),i=w[w.length-1],T=w.slice(0,w.length-1);vt(i,T,v,j)&&(t[S++]=I,r=d)}}return t}function Lt(p,v={}){var j;const t=v.bg||"#fff",S=rt((j=v.lineOptions)!==null&&j!==void 0?j:[],_=>_.line);let L="";return L+=`<pre class="shiki" style="background-color: ${t}">`,v.langId&&(L+=`<div class="language-id">${v.langId}</div>`),L+="<code>",p.forEach((_,I)=>{var N;const r=I+1,d=(N=S.get(r))!==null&&N!==void 0?N:[];L+=`<span class="${jt(d).join(" ")}">`,_.forEach(w=>{const i=[`color: ${w.color||v.fg}`];w.fontStyle&be.Italic&&i.push("font-style: italic"),w.fontStyle&be.Bold&&i.push("font-weight: bold"),w.fontStyle&be.Underline&&i.push("text-decoration: underline"),L+=`<span style="${i.join("; ")}">${wt(w.content)}</span>`}),L+=`</span>
`}),L=L.replace(/\n*$/,""),L+="</code></pre>",L}const kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function wt(p){return p.replace(/[&<>"']/g,v=>kt[v])}function jt(p){var v;const j=new Set(["line"]);for(const t of p)for(const S of(v=t.classes)!==null&&v!==void 0?v:[])j.add(S);return Array.from(j)}class Ct extends Ee.exports.Registry{constructor(v){super(v),this._resolver=v,this.themesPath="themes/",this._resolvedThemes={},this._resolvedGrammars={}}getTheme(v){return typeof v=="string"?this._resolvedThemes[v]:v}async loadTheme(v){return typeof v=="string"?(this._resolvedThemes[v]||(this._resolvedThemes[v]=await Ce(`${this.themesPath}${v}.json`)),this._resolvedThemes[v]):(v=Je(v),v.name&&(this._resolvedThemes[v.name]=v),v)}async loadThemes(v){return await Promise.all(v.map(j=>this.loadTheme(j)))}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(v){return this._resolvedGrammars[v]}async loadLanguage(v){const j=await this.loadGrammar(v.scopeName);this._resolvedGrammars[v.id]=j,v.aliases&&v.aliases.forEach(t=>{this._resolvedGrammars[t]=j})}async loadLanguages(v){for(const j of v)this._resolver.addLanguage(j);for(const j of v)await this.loadLanguage(j)}getLoadedLanguages(){return Object.keys(this._resolvedGrammars)}}function Ye(p){return typeof p=="string"?Me.find(v=>{var j;return v.id===p||((j=v.aliases)===null||j===void 0?void 0:j.includes(p))}):p}function St(p){var v;let j=Me,t=p.themes||[];return!((v=p.langs)===null||v===void 0)&&v.length&&(j=p.langs.map(Ye)),p.theme&&t.unshift(p.theme),t.length||(t=["nord"]),{_languages:j,_themes:t}}async function qe(p){var v,j;const{_languages:t,_themes:S}=St(p),L=new mt(pt(),"vscode-oniguruma"),_=new Ct(L);!((v=p.paths)===null||v===void 0)&&v.themes&&(_.themesPath=p.paths.themes),!((j=p.paths)===null||j===void 0)&&j.languages&&(L.languagesPath=p.paths.languages);const N=(await _.loadThemes(S))[0];let r;await _.loadLanguages(t);const d={"#000001":"var(--shiki-color-text)","#000002":"var(--shiki-color-background)","#000004":"var(--shiki-token-constant)","#000005":"var(--shiki-token-string)","#000006":"var(--shiki-token-comment)","#000007":"var(--shiki-token-keyword)","#000008":"var(--shiki-token-parameter)","#000009":"var(--shiki-token-function)","#000010":"var(--shiki-token-string-expression)","#000011":"var(--shiki-token-punctuation)","#000012":"var(--shiki-token-link)"};function k(n,s){n.bg=d[n.bg]||n.bg,n.fg=d[n.fg]||n.fg,s.forEach((y,b)=>{s[b]=d[y]||y})}function w(n){const s=n?_.getTheme(n):N;if(!s)throw Error(`No theme registration for ${n}`);(!r||r.name!==s.name)&&(_.setTheme(s),r=s);const y=_.getColorMap();return s.name==="css-variables"&&k(s,y),{_theme:s,_colorMap:y}}function i(n){const s=_.getGrammar(n);if(!s)throw Error(`No language registration for ${n}`);return{_grammar:s}}function T(n,s="text",y,b={includeExplanation:!0}){if(Nt(s))return[...n.split(/\r\n|\r|\n/).map(H=>[{content:H}])];const{_grammar:P}=i(s),{_theme:A,_colorMap:O}=w(y);return _t(A,O,n,P,b)}function g(n,s="text",y){let b;typeof s=="object"?b=s:b={lang:s,theme:y};const P=T(n,b.lang,b.theme,{includeExplanation:!1}),{_theme:A}=w(b.theme);return Lt(P,{fg:A.fg,bg:A.bg,lineOptions:b==null?void 0:b.lineOptions})}async function l(n){await _.loadTheme(n)}async function u(n){const s=Ye(n);L.addLanguage(s),await _.loadLanguage(s)}function h(){return _.getLoadedThemes()}function o(){return _.getLoadedLanguages()}function c(n){const{_theme:s}=w(n);return s.bg}function e(n){const{_theme:s}=w(n);return s.fg}return{codeToThemedTokens:T,codeToHtml:g,getTheme:n=>w(n)._theme,loadTheme:l,loadLanguage:u,getBackgroundColor:c,getForegroundColor:e,getLoadedThemes:h,getLoadedLanguages:o}}function Nt(p){return!p||["plaintext","txt","text"].includes(p)}let Ae=null;const we=[];let Re=null;const Se=["c","cpp","java","javascript","json","python","typescript","yaml","html","css"],Pt=new Map([["c++","cpp"],["C++","cpp"],["C","c"],["js","javascript"],["ts","typescript"],["py","python"]]);function ze(p){return!!Se.find(v=>v===p)}async function Ne(...p){if(Ae)return Ae=await qe({themes:we,langs:p});{const v="/";return ut(v),lt(await fetch(v+"onig.wasm").then(j=>j.arrayBuffer())),we.push(await Ce("themes/eva-light.json")),we.push(await Ce("themes/eva-dark.json")),Ae=await qe({themes:we,langs:p})}}async function Tt(){await Ne(Se[0]),await Promise.all(Se.slice(1).map(p=>Ne(p)))}function He(p){return p.replace(/[<>"& ]/g,v=>{switch(v){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"&":return"&amp;";case" ":return"&nbsp;";default:return""}})}async function At(p,v,j=!1){const t=()=>`<pre class="shiki"><code>${He(p).split(`
`).map(S=>`<span class="line">${S}</span>`).join(`
`)}</code></pre>`;if(v==="text")return t();if(v==="md"){if(!Re){await Tt();const S=await Ne(...Se),{createMarkdown:L}=await Qe(()=>import("./markdown.52a2ec56.js"),["assets/markdown.52a2ec56.js","assets/github-markdown.42b94d5a.css","assets/index.98773d81.js","assets/index.3105f597.css"]);Re=L({highlight:(_,I)=>{var N;return _=_.trim(),I=(N=Pt.get(I))!=null?N:I,ze(I)?S.codeToHtml(_,{lang:I}):He(_)}})}return`<div class="markdown-body">${Re(p)}</div>`}else return ze(v)?(await Ne(v)).codeToHtml(p,{lang:v,theme:j?"Eva Dark":"Eva Light"}):t()}export{He as escapeCode,At as highlight,Tt as preSetup};
