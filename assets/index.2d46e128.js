import{o as u,c as p,a,d as h,t as y,b as I,r as f,n as R,u as c,e as X,g as C,f as L,h as i,w as d,i as v,j as w,k as b,l as E,v as B,m as g,p as $,s as F,q as O,x as K,y as z,z as A,A as J,B as P,C as U,D as W,E as q,F as Y,G as T,H as S,I as G,J as Q,T as Z,K as ee}from"./vendor.32b19bbf.js";const te=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};te();const oe="modulepreload",j={},ne="/",se=function(t,n){return!n||n.length===0?t():Promise.all(n.map(s=>{if(s=`${ne}${s}`,s in j)return;j[s]=!0;const o=s.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${r}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":oe,o||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),o)return new Promise((_,m)=>{l.addEventListener("load",_),l.addEventListener("error",m)})})).then(()=>t())},ae={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},re=a("path",{d:"M14 13v4h-4v-4H7l5-5l5 5m2.35-2.97A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 0 0 0 14a6 6 0 0 0 6 6h13a5 5 0 0 0 5-5c0-2.64-2.05-4.78-4.65-4.97z",fill:"currentColor"},null,-1),le=[re];function ie(e,t){return u(),p("svg",ae,le)}var D={name:"mdi-cloud-upload",render:ie};const x=h({props:{padding:null,primary:{type:Boolean},info:{type:Boolean},success:{type:Boolean},warning:{type:Boolean},danger:{type:Boolean}},setup(e){const t=e,{primary:n,info:s,success:o,warning:r,danger:l}=y(t),_=I(()=>(n==null?void 0:n.value)?"is-primary":(s==null?void 0:s.value)?"is-info":(o==null?void 0:o.value)?"is-success":(r==null?void 0:r.value)?"is-warning":(l==null?void 0:l.value)?"is-danger":void 0);return(m,bt)=>(u(),p("button",{class:R(["button","inline-flex","justify-center","items-center","rounded","border","border-1","border-[#dbdbdb]","outline-none","cursor-pointer","select-none",c(_),e.padding||"px-3 py-2"])},[f(m.$slots,"default")],2))}});var M=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};const ce={},ue={class:"select relative"},de={class:"pl-2 pr-8 py-2 cursor-pointer block w-full outline-none rounded border border-1 border-[#dbdbdb] appearance-none"};function _e(e,t){return u(),p("div",ue,[a("select",de,[f(e.$slots,"default")])])}var pe=M(ce,[["render",_e]]),me=class{constructor(e){this.api=X.create({baseURL:e!=null?e:"https://api.xlorpaste.cn"})}format(e){return e.trim()}async upload(e,t,n={}){const{data:s}=await this.api.post("/",{lang:e,body:C.encode(this.format(t)),timestamp:new Date().toISOString(),once:n.once,pass:n.pass});return s}async fetch(e){const{data:t}=await this.api.get(`/${e}`);if("status"in t)throw t;return t.body=this.format(C.decode(t.body)),t}};function he(e={}){return new me(e.apiURL)}const N=he();async function fe(e,t){return await N.upload(e,t)}async function ve(e){return await N.fetch(e)}const be=v(" Token: "),ye=h({props:{sub:null},setup(e){const t=e,{sub:n}=y(t);return(s,o)=>{const r=L("router-link");return u(),p("p",null,[be,i(r,{to:{name:"View",params:{token:c(n).token}}},{default:d(()=>[v(w(c(n).token),1)]),_:1},8,["to"])])}}}),ge={key:0},xe={class:"mb-4 flex"},we={class:"inline-flex items-center mr-4"},$e=a("label",{for:"lang",class:"font-bold mr-2"},"\u8BED\u8A00 ",-1),ke=a("option",{value:"cpp"},"C++",-1),Ce=a("option",{value:"c"},"C",-1),Le=a("option",{value:"java"},"Java",-1),Ee=a("option",{value:"python"},"Python",-1),Be=a("option",{value:"javascript"},"JavaScript",-1),Ae=a("option",{value:"json"},"JSON",-1),Pe=a("option",{value:"yaml"},"Yaml",-1),Te=v(" \u63D0\u4EA4"),Se={class:"flex mb-4"},je=["rows","onKeydown"],De=v(" \u63D0\u4EA4"),Me={key:1},Ne=v("\u8FD4\u56DE"),Ve=h({setup(e){const t=b(""),n=b("cpp"),s=b(null),o=async()=>{if(t.value.length===0)return;const l=await fe(n.value,t.value);s.value=l},r=window.innerWidth>=768?Math.max(10,Math.floor((window.innerHeight-320*window.devicePixelRatio)/16)):0;return(l,_)=>s.value?(u(),p("div",Me,[i(ye,{sub:s.value},null,8,["sub"]),i(x,{onClick:_[2]||(_[2]=m=>s.value=null),info:""},{default:d(()=>[Ne]),_:1})])):(u(),p("div",ge,[a("div",xe,[a("div",we,[$e,i(c(pe),{name:"lang",id:"lang"},{default:d(()=>[ke,Ce,Le,Ee,Be,Ae,Pe]),_:1})]),i(x,{success:"",onClick:o},{default:d(()=>[i(c(D),{class:"mr-2"}),Te]),_:1})]),a("div",Se,[E(a("textarea",{ref:"elBody",name:"area-body",id:"area-body",rows:c(r),class:"font-mono flex-1 border-1 border-light-900 rounded px-3 py-2 outline-none focus:border-blue-300",onKeydown:[_[0]||(_[0]=g($(()=>{},["prevent"]),["tab"])),g($(o,["ctrl"]),["enter"]),g($(o,["ctrl","prevent"]),["s"])],"onUpdate:modelValue":_[1]||(_[1]=m=>t.value=m)},null,40,je),[[B,t.value]])]),a("div",null,[i(x,{success:"",onClick:o},{default:d(()=>[i(c(D),{class:"mr-2"}),De]),_:1})])]))}});let k=null;async function He(){if(!k){const e="/";z(e),F(await fetch(e+"onig.wasm").then(n=>n.arrayBuffer()));const t=[await O("themes/eva-light.json")];k=await K({themes:t,langs:["cpp"]})}}async function Ie(e,t){return await He(),k.codeToHtml(t,{lang:e})}const Re={key:0,class:"code-box rounded-lg"},Xe={class:"px-4 py-4 font-mono flex justify-between items-center",style:{"border-bottom":"1px solid rgb(235, 238, 245)"}},Fe={class:"inline-block"},Oe=v("\u590D\u5236"),Ke=["innerHTML"],ze=h({props:{sub:null},setup(e){const t=e,{sub:n}=y(t),s=b("");Ie(n.value.lang,n.value.body).then(r=>s.value=r);const o=async()=>{await navigator.clipboard.writeText(n.value.body)};return(r,l)=>s.value.length>0?(u(),p("div",Re,[a("div",Xe,[a("div",Fe,"Token: "+w(c(n).token),1),a("div",null,[i(x,{padding:"px-2 py-2",info:"",onClick:o},{default:d(()=>[Oe]),_:1})])]),a("div",{class:"px-4 py-4 overflow-x-auto",innerHTML:s.value},null,8,Ke)])):A("",!0)}}),Je={key:0},Ue=h({setup(e){const t=J(),n=P(),{token:s}=y(U(t.params)),o=b(null);return W(s,async r=>{try{const l=await ve(r);o.value=l}catch{setTimeout(()=>n.push({name:"Home"}),3e3)}},{immediate:!0}),(r,l)=>o.value?(u(),p("div",Je,[i(c(ze),{sub:o.value},null,8,["sub"])])):A("",!0)}}),V=q({history:Y(),routes:[{path:"/",name:"Home",component:Ve,meta:{title:"\u4E0A\u4F20"}},{path:"/editor",name:"Editor",component:()=>se(()=>import("./Editor.715c995a.js"),["assets/Editor.715c995a.js","assets/vendor.32b19bbf.js"]),meta:{title:"\u7F16\u8F91\u5668"}},{path:"/view/:token",name:"View",component:Ue,meta:{title:"\u4EE3\u7801"}}],scrollBehavior(e,t,n){return n||{top:0}}});V.beforeEach(e=>{e.meta.title?document.title=e.meta.title+" - XLor Paste":document.title="XLor Paste"});const We={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},qe=a("path",{d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z",fill:"currentColor"},null,-1),Ye=[qe];function Ge(e,t){return u(),p("svg",We,Ye)}var Qe={name:"mdi-github",render:Ge};const Ze={},et={class:"py-2 md:px-8 <md:px-4 navbar-flex navbar"},tt={class:"navbar-brand navbar-flex items-center bg-transparent cursor-pointer"},ot={class:"navbar-menu navbar-flex flex-1 <md:w-full"},nt={class:"navbar-start justify-start items-center md:mr-auto <md:w-full"},st={class:"<md:hidden navbar-end navbar-flex justify-end items-center ml-auto"};function at(e,t){return u(),p("nav",et,[a("div",tt,[f(e.$slots,"brand")]),a("div",ot,[a("div",nt,[f(e.$slots,"start"),f(e.$slots,"default")]),a("div",st,[f(e.$slots,"end")])])])}var rt=M(Ze,[["render",at]]);const H=h({props:{tag:{type:String,default:"a"}},setup(e){return(t,n)=>(u(),T(S(e.tag),{class:"navbar-item flex select-none cursor-pointer rounded px-[0.75rem] py-[0.5rem] hover:(bg-gray-100 text-blue-500)"},{default:d(()=>[f(t.$slots,"default")]),_:3}))}});const lt=v("XLorPaste"),it={class:"flex relative font-mono <md:w-full"},ct=["onKeypress"],ut={class:"md:px-10 <md:px-[1.75rem] pt-6 main-view"},dt={class:"mt-4 px-1 py-4 text-sm"},_t={class:"text-center text-gray-400"},pt={class:"flex items-center justify-center font-mono h-4 my-1"},mt={class:"text-$text-light-1 inline-block mr-2",href:"https://github.com/",target:"_blank"},ht=["href"],ft=Q('<p class="font-mono my-1"><a href="https://github.com/XLorPaste/XLorPaste/blob/master/LICENSE" target="_blank" rel="noopener noreferrer">MIT</a> Licensed | <a href="https://upptime.xlorpaste.cn/" target="_blank" rel="noopener noreferrer">Status</a> | <a href="http://www.miitbeian.gov.cn" target="_blank" rel="noopener noreferrer">\u82CFICP\u590719000844\u53F7</a></p><p class="font-mono my-1"><span>\xA9 2021 </span><a href="https://github.com/yjl9903" target="_blank">XLor</a><span> All rights reserved</span></p>',2),vt=h({setup(e){const t="0.0.0",n=P(),s=b(""),o=async()=>{await n.push({name:"View",params:{token:s.value}}),s.value=""};return(r,l)=>{const _=L("router-view");return u(),p(G,null,[i(c(rt),null,{brand:d(()=>[i(c(H),{tag:"router-link",to:{name:"Home"},class:"font-mono font-bold text-xl"},{default:d(()=>[lt]),_:1})]),start:d(()=>[i(c(H),null,{default:d(()=>[a("div",it,[E(a("input",{type:"text",name:"search",id:"search",placeholder:"\u4EE3\u7801 Token",autocomplete:"off",class:"flex-1 px-2 py-2 rounded-md border-1 border-light-900 outline-none focus:border-blue-300","onUpdate:modelValue":l[0]||(l[0]=m=>s.value=m),onKeypress:g(o,["enter"])},null,40,ct),[[B,s.value]])])]),_:1})]),_:1}),a("div",ut,[i(_,null,{default:d(({Component:m})=>[i(Z,{name:"fade"},{default:d(()=>[(u(),T(S(m)))]),_:2},1024)]),_:1})]),a("footer",dt,[a("div",_t,[a("div",pt,[a("a",mt,[i(c(Qe),{class:"align-middle"})]),a("a",{class:"inline-block block",href:"https://github.com/XLorPaste/XLorPaste",target:"_blank"}," XLorPaste: "+w(c(t)),9,ht)]),ft])])],64)}}});ee(vt).use(V).mount("#app");export{M as _};
